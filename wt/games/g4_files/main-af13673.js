(function(a){a.fn.extend({autocomplete:function(b,c){var d=typeof b=="string";c=a.extend({},a.Autocompleter.defaults,{url:d?b:null,data:d?null:b,delay:d?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||function(e){return e};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new a.Autocompleter(this,c)})},result:function(b){return this.bind("result",b)},search:function(b){return this.trigger("search",[b])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(b){return this.trigger("setOptions",[b])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(q,g){var c={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var b=a(q).attr("autocomplete","off").addClass(g.inputClass);var o;var w="";var r=a.Autocompleter.Cache(g);var e=0;var A;var E={mouseDownOnSelect:false};var x=a.Autocompleter.Select(g,q,d,E);var D;a.browser.opera&&a(q.form).bind("submit.autocomplete",function(){if(D){D=false;return false}});b.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(F){A=F.keyCode;e=e==0?1:e;switch(F.keyCode){case c.UP:F.preventDefault();if(x.visible()){x.prev()}else{z(0,true)}break;case c.DOWN:F.preventDefault();if(x.visible()){x.next()}else{z(0,true)}break;case c.PAGEUP:F.preventDefault();if(x.visible()){x.pageUp()}else{z(0,true)}break;case c.PAGEDOWN:F.preventDefault();if(x.visible()){x.pageDown()}else{z(0,true)}break;case g.multiple&&a.trim(g.multipleSeparator)==","&&c.COMMA:case c.TAB:case c.RETURN:a("#as-submittype").val("entered");if(d()){F.preventDefault();D=true;return false}break;case c.ESC:x.hide();break;default:clearTimeout(o);o=setTimeout(z,g.delay);break}}).focus(function(){e++}).blur(function(){e=0;if(!E.mouseDownOnSelect){y()}}).click(function(){if(e++>1&&!x.visible()){z(0,true)}}).bind("search",function(){var F=(arguments.length>1)?arguments[1]:null;function G(K,J){var H;if(J&&J.length){for(var I=0;I<J.length;I++){if(J[I].result.toLowerCase()==K.toLowerCase()){H=J[I];break}}}if(typeof F=="function"){F(H)}else{b.trigger("result",H&&[H.data,H.value])}}a.each(l(b.val()),function(H,I){f(B(I),G,G)})}).bind("flushCache",function(){r.flush()}).bind("setOptions",function(){a.extend(g,arguments[1]);if("data" in arguments[1]){r.populate()}}).bind("unautocomplete",function(){x.unbind();b.unbind();a(q.form).unbind(".autocomplete")});function d(){var G=x.selected();if(!G||G.href==null){return false}a("#fk-header-search-form").attr("action",G.href);var F=G.result;w=F;if(g.multiple){var H=l(b.val());if(H.length>1){F=H.slice(0,H.length-1).join(g.multipleSeparator)+g.multipleSeparator+F}F+=g.multipleSeparator}b.val(F);C();a("#as").val("on");a("#fk-menuSelItem").text(G.displayVertical);m(G.param);a("#fk-header-search-form").submit();return true}function m(G){a(".eparams").remove();if(G!=null){for(var F in G){a("<input>").attr({type:"hidden",name:F,value:G[F]}).addClass("eparams").appendTo(a("#fk-header-search-form"))}}}function z(H,G){if(A==c.DEL){x.hide();return}var F=b.val();if(!G&&F==w){return}w=F;F=B(n(F));if(F.length>=g.minChars){b.addClass(g.loadingClass);if(!g.matchCase){F=F.toLowerCase()}f(F,p,C)}else{t();x.hide()}}function l(G){if(!G){return[""]}var H=G.split(g.multipleSeparator);var F=[];a.each(H,function(I,J){if(a.trim(J)){F[I]=a.trim(J)}});return F}function n(F){if(!g.multiple){return F}var G=l(F);return G[G.length-1]}function v(F,G){if(g.autoFill&&(n(b.val()).toLowerCase()==F.toLowerCase())&&A!=c.BACKSPACE){b.val(b.val()+G.substring(n(w).length));a.Autocompleter.Selection(q,w.length,w.length+G.length)}}function y(){clearTimeout(o);o=setTimeout(C,200)}function C(){var F=x.visible();x.hide();clearTimeout(o);t();if(g.mustMatch){b.search(function(G){if(!G){if(g.multiple){var H=l(b.val()).slice(0,-1);b.val(H.join(g.multipleSeparator)+(H.length?g.multipleSeparator:""))}else{b.val("")}}})}if(F){a.Autocompleter.Selection(q,q.value.length,q.value.length)}}function p(G,F){if(F&&F[1].length&&e){if(F[1].length==0){C();return}t();x.display(F,G);x.show()}else{C()}}function f(H,J,G){H=B(n(H));var F=r.load(H);if(F){J(H,F);return}if(!g.matchCase){H=H.toLowerCase()}var I="";if(I&&I.length){J(H,I)}else{if((typeof g.url=="string")&&(g.url.length>0)){var K={vertical:a("#fk-vertical-auto-suggestions").val(),"ab-bucket":a("#ab_buk").val()};a.each(g.extraParams,function(L,M){K[L]=typeof M=="function"?M():M});a("#as-shown").val("off");a.ajax({mode:"abort",port:"autocomplete"+q.name,dataType:"json",url:g.url,data:a.param(a.extend({query:H},K)),timeout:3000,success:function(M){if(M){for(var L in M){r.add(L,M[L])}J(H,M[H])}}})}else{x.emptyList();G(H)}}}function B(F){F=F.replace(/^\s+/g,"");F=F.replace(/\s+/g," ");return F}function u(L,K){var G=[];var J=K;var F=K[L][1];var I=F;for(var H=0;H<I.length;H++){var M=I[H];if(M){G[G.length]={data:M,value:M,result:M}}}return G}function t(){b.removeClass(g.loadingClass)}};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"fk-ac-results",loadingClass:"ac_loading",minChars:1,delay:200,matchCase:false,matchSubset:false,matchContains:false,cacheLength:20,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(b){return b[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(c,b){return c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"$1")},scroll:true,scrollHeight:180};a.Autocompleter.Cache=function(o){var d={};var c=0;var b=new Array();function g(r,q){if(!o.matchCase){r=r.toLowerCase()}var p=r.indexOf(q);if(o.matchContains=="word"){p=r.toLowerCase().search("\\b"+q.toLowerCase())}if(p==-1){return false}return p==0||o.matchContains}function m(r,p){if(!d[r]){c++}d[r]=p}function e(p){if(!(a.inArray(p,b)>-1)){b.push(p)}}function n(p){return a.inArray(p,b)>-1}function f(){if(!o.data){return false}var q={},p=0;if(!o.url){o.cacheLength=1}q[""]=[];for(var t=0,r=o.data.length;t<r;t++){var w=o.data[t];w=(typeof w=="string")?[w]:w;var v=o.formatMatch(w,t+1,o.data.length);if(v===false){continue}var u=v.charAt(0).toLowerCase();if(!q[u]){q[u]=[]}var x={value:v,data:w,result:o.formatResult&&o.formatResult(w)||v};q[u].push(x);if(p++<o.max){q[""].push(x)}}a.each(q,function(y,z){o.cacheLength++;m(y,z)})}setTimeout(f,25);function l(){d={};c=0}return{flush:l,add:m,populate:f,addQList:e,loadQList:n,load:function(u){if(d[u]){return d[u]}if(!o.cacheLength||!c){return null}if(!o.url&&o.matchContains){var t=[];for(var p in d){if(p.length>0){var v=d[p];a.each(v,function(w,q){if(g(q.value,u)){t.push(q)}})}}return t}else{if(d[u]){return d[u]}else{if(o.matchSubset){for(var r=u.length-1;r>=o.minChars;r--){var v=d[u.substr(0,r)];if(v){var t=[];a.each(v,function(w,q){if(g(q.value,u)){t[t.length]=q}});return t}}}}}return null}}};a.Autocompleter.Select=function(e,o,q,y){var n={ACTIVE:"ac_over"};var p,g=-1,A,r="",B=true,c,v,x;function u(){if(!B){return}c=a("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body);v=a("<table width='100%' cellpadding='0' cellspacing='0'></table>");if(e.width>0){c.css("width",e.width)}B=false}function z(D){var C=D.target;while(C&&C.tagName!="LI"){C=C.parentNode}if(!C){return[]}return C}function m(D){p.slice(g,g+1).removeClass(n.ACTIVE);l(D);if(g==-1){a("#fk-top-search-box").val(r);a("#fk-top-search-box").focus();return}var G=p.slice(g,g+1).addClass(n.ACTIVE);var C=a.data(G[0],"ac_data");var F=C.displayVertical||"All Categories";if(C.href==null&&D!=0){m(D);return}a("#fk-top-search-box").val(C.result);a("#fk-menuSelItem").text(F);if(e.scroll){var E=0;p.slice(0,g).each(function(){E+=this.offsetHeight});if((E+G[0].offsetHeight-x.scrollTop())>x[0].clientHeight){x.scrollTop(E+G[0].offsetHeight-x.innerHeight())}else{if(E<x.scrollTop()){x.scrollTop(E)}}}}function l(C){g+=C;if(g<0){g=-1}else{if(g>=p.size()){g=0}}}function f(C,F,D){C=a.trim(C);var E=new RegExp(C,"gi");F=F.replace(E,function(G){return'<span class="'+D+'">'+G+"</span>"});return F}function t(H,E,I,J){var F,D;for(var G=0;G<I.length;G++){catHTML=f(H,E,"highlight-suggestion")+' in <span class="highlight-suggestion-vertical">'+I[G][0]+"</span>";if(I[G][1].substr(0,3)=="bks"){D="/search-books"}else{D="/flipkart/pr"}var C=a("<li/>").html(catHTML).addClass().appendTo(J)[0];a.data(C,"ac_data",{href:D,result:E,value:catHTML,displayVertical:I[G][0],param:{sid:I[G][1],"as-pos":"ic_"+(G+1),"autosuggest[type]":"query",q:E}})}}function b(D,J,H){if(J.length>0){var C="header";var K=a("<li/>").html("<span class='text'> Popular Products </span>").addClass(C).appendTo(H)[0];a.data(K,"ac_data",{href:null,result:null,value:null,param:{}})}for(var F=0;F<J.length;F++){var E=a("<div/>").addClass("product-autosuggest");var M=a("<div/>").addClass("image").append(a("<img/>").attr("src",J[F][2]));E.append(M);var L=a("<span/>").addClass("title").html(f(D,J[F][1],"highlight-suggestion")+"<br>");var I=a("<span/>").addClass("price").text("Rs. "+J[F][3]);L.append(I);E.append(L);var G=E.clone();var K=a("<li/>").html(G).attr("data-otracker","as-product").appendTo(H)[0];a.data(K,"ac_data",{href:"/item/"+J[F][0],result:J[F][1],value:G,param:{"as-pos":"p_"+(F+1),"autosuggest[type]":"product",q:J[F][1]}})}}function w(){var C=a("#fk-vertical-auto-suggestions").val();if(C=="all"){return"/search/a/all"}else{return"/search-"+C}}function d(){v.empty();var N=A;var G=a("<tbody>");var I=a("<tr>");var L=a("<td>");var K=a("<ul id='list_"+j+"' />").appendTo(L).mouseover(function(Q){if(z(Q).nodeName&&z(Q).nodeName.toUpperCase()=="LI"){g=a("ul").children().removeClass(n.ACTIVE).index(z(Q));a(z(Q)).addClass(n.ACTIVE)}}).click(function(Q){a(z(Q)).addClass(n.ACTIVE);a("#as-submittype").val("clicked");var R=a(z(Q)).index()+1;a("#as-grouprank").val(R);q();o.focus();return true}).mousedown(function(){y.mouseDownOnSelect=true}).mouseup(function(){y.mouseDownOnSelect=false});var J=N[1];var D=N[1];var H=N[2];var O=N[3];for(var F=0;F<D.length;F++){if(!J[F]){continue}if(F==1){t(r,D[0],H,K)}var E=e.formatItem(J[F],F+1,12,J[F],r);E=f(r,D[F],"highlight-suggestion");if(E===false){continue}var P=F%2==0?"ac_even":"ac_odd";var C=J[F];var M=a("<li/>").html(e.highlight(E,r)).addClass(P+" "+C).appendTo(K)[0];a.data(M,"ac_data",{href:w(),result:D[F],displayVertical:"All Category",value:E,param:{"as-pos":"q_"+(F+1),"autosuggest[type]":"query",q:D[F]}})}b(r,O,K);L.appendTo(I);I.appendTo(G);G.appendTo(v);v.appendTo(c);p=v.find("li");if(a.fn.bgiframe){x.bgiframe()}}return{display:function(D,C){u();A=D;r=C;d()},next:function(){m(1)},prev:function(){m(-1)},pageUp:function(){if(g!=0&&g-8<0){m(-g)}else{m(-8)}},pageDown:function(){if(g!=p.size()-1&&g+8>p.size()){m(p.size()-1-g)}else{m(8)}},hide:function(){c&&c.hide();p&&p.removeClass(n.ACTIVE);g=-1},visible:function(){return c&&c.is(":visible")},current:function(){return this.visible()&&(p.filter("."+n.ACTIVE)[0]||e.selectFirst&&p[0])},show:function(){var F=a(o).offset(),C=parseInt(c.css("border-right-width"))+parseInt(c.css("border-left-width"));a("#as-shown").val("on");c.css({width:typeof e.width=="string"||e.width>0?e.width:a(o).outerWidth()-C,top:F.top+o.offsetHeight,left:F.left-parseInt(c.css("border-left-width"))}).show();if(e.scroll){x.scrollTop(0);x.css({maxHeight:e.scrollHeight,overflow:"auto"});if(a.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var D=0;p.each(function(){D+=this.offsetHeight});var E=D>e.scrollHeight;x.css("height",E?e.scrollHeight:D);if(!E){p.width(x.width()-parseInt(p.css("padding-left"))-parseInt(p.css("padding-right")))}}}},selected:function(){var C=p&&p.filter("."+n.ACTIVE).removeClass(n.ACTIVE);if(C&&C.length){var D=p.index(C)+1;a("#as-overallrank").val(D);a("#orig-query").val(r);if(C.attr("data-otracker")=="as-product"){a("#searchTracker").val("from-search")}}return C&&C.length&&a.data(C[0],"ac_data")},emptyList:function(){x&&x.empty()},unbind:function(){c&&c.remove()}}};a.Autocompleter.Selection=function(d,e,c){if(d.createTextRange){var b=d.createTextRange();b.collapse(true);b.moveStart("character",e);b.moveEnd("character",c);b.select()}else{if(d.setSelectionRange){d.setSelectionRange(e,c)}else{if(d.selectionStart){d.selectionStart=e;d.selectionEnd=c}}}d.focus()}})(jQuery);(function(a){a.fn.menuAim=function(b){var c=a(this),r=null,f=[],v=null,q=null,u=0,w=a.extend({rowSelector:"> li",submenuSelector:"*",tolerance:75,activate:a.noop,deactivate:a.noop},b);var m=3,e=300;var d=function(x){f.push({x:x.pageX,y:x.pageY});if(f.length>m){f.shift()}};var p=function(){if(u){a(document).unbind("mousemove",d);u=0}if(q){clearTimeout(q)}if(r){w.deactivate(r);r=null}};var n=function(){if(!u){a(document).mousemove(d);u=1}if(q){clearTimeout(q)}g(this)};var l=function(x){if(x==r){return}if(r){w.deactivate(r)}w.activate(x);r=x};var g=function(y){var x=o();if(x){q=setTimeout(function(){g(y)},x)}else{l(y)}};var o=function(){if(!r||!a(r).is(w.submenuSelector)){return 0}var z=c.offset(),G={x:z.left+c.outerWidth(),y:z.top-w.tolerance},A={x:z.left+c.outerWidth(),y:z.top+c.outerHeight()+w.tolerance},B=f[f.length-1],F=f[0];if(!B){return 0}if(!F){F=B}if(F.x<z.left||F.x>A.x||F.y<z.top||F.y>A.y){return 0}if(v&&B.x==v.x&&B.y==v.y){return 0}function C(I,H){return(H.y-I.y)/(H.x-I.x)}var D=C(B,G),y=C(B,A),x=C(F,G),E=C(F,A);if(D<x&&y>E){v=B;return e}v=null;return 0};var t=function(){c.mouseleave(p).find(w.rowSelector).mouseenter(n)};t();return this}})(jQuery);(function(a){a.fn.scrollToView=function(q){if(this.length==0){return this}var e={scrollTo:"auto",edge:5};var d=a.extend({},e,q),g=d.scrollTo,b=d.edge;win=a(window),elm=a(this[0]),scrollToPos=0;g=g?g.toString().toLowerCase():"auto";b=isNaN(parseInt(b))?e.edge:b;var l=new function(){this.top=win.scrollTop();this.bottom=this.top+win.height()};var o=new function(){this.top=elm.offset().top;this.bottom=this.top+elm.outerHeight(true)};var n=[o.top,o.bottom,l.top,l.bottom];var p=Math.min.apply(null,n);var m=Math.max.apply(null,n);if((p==l.top&&m==l.bottom)||elm.is(":hidden")){this.trigger({type:"onScrolledToView"});return this}if(!isNaN(parseInt(g))){scrolToPos=parseInt(g)-b}else{if(g=="top"){scrollToPos=o.top-b}else{if(g=="bottom"){scrollToPos=o.bottom+b}else{if((p==o.top&&m==o.bottom)||m==l.bottom){scrollToPos=o.top-b}else{if(m==o.bottom){scrollToPos=o.bottom-win.height()+b}}}}}var f=this,c=false;a("html, body").animate({scrollTop:scrollToPos},300,"swing",function(){if(!c){f.trigger({type:"onScrolledToView"});c=true}});return this}})(jQuery);if(typeof FKART=="undefined"){FKART={}}FKART.JSON={escapeStr:function(a){return a.replace('"','\\"')},encode:function(a){if(!a){return"null"}switch(a.constructor){case String:return'"'+escape(a)+'"';case Number:return'"'+a.toString()+'"';case Boolean:return a?"true":"false";case Array:var b=[];for(i in a){b.push(FKART.JSON.encode(a[i]))}return"["+b.join(",")+"]";case Object:var b=[];for(k in a){b.push(FKART.JSON.encode(k)+":"+FKART.JSON.encode(a[k]))}return"{"+b.join(",")+"}";default:return"null"}},decode:function(d){try{var o=eval("("+d+")");return o}catch(e){}return null}};function ajaxRequest(e,a,c,d){function b(f){if(f){if(f.status=="ok"){if(typeof(d.success)=="function"){d.success(f.data)}}else{if(typeof(d.error)=="function"){d.error(f.msg,f.data)}}return}ajaxFailed()}$.ajax({type:e,url:a,success:b,error:ajaxFailed,data:c,dataType:"json"})}function ajaxRequestNew(e,a,c,d){function b(f){if(f){f=f.replace(/^\s*/,"").replace(/\s*$/,"");f=FKART.JSON.decode(f);if(f.status=="ok"){if(typeof(d.success)=="function"){d.success(f.data)}}else{if(typeof(d.error)=="function"){d.error(f.msg,f.data)}}return}ajaxFailed()}if(typeof(d.failure)=="function"){$.ajax({type:e,url:a,success:b,error:d.failure,data:c,dataType:"text"})}else{$.ajax({type:e,url:a,success:b,error:ajaxFailed,data:c,dataType:"text"})}}function ajaxRequestSimple(d,a,b,c){if(typeof(c.success)!="function"){c.success=function(e){}}if(typeof(c.failure)=="function"){c.failure=ajaxFailed}$.ajax({type:d,url:a,success:c.success,error:c.failure,data:b})}function toUrlQueryString(b){var a=[];for(k in b){a.push(k+"="+encodeURIComponent(b[k]))}return a.join("&")}function Utf8encode(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a}function Utf8decode(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}function isEmailValid(g,d){var a="@";var b=".";var l="+";var f=g.indexOf(a);var c=g.length;var e=g.indexOf(b);if(g.indexOf(a)==-1){return false}if(g.indexOf(a)==-1||g.indexOf(a)==0||g.indexOf(a)==c){return false}if(g.indexOf(b)==-1||g.indexOf(b)==0||g.indexOf(b)==c){return false}if(g.indexOf(a,(f+1))!=-1){return false}if(g.substring(f-1,f)==b||g.substring(f+1,f+2)==b){return false}if(g.indexOf(b,(f+2))==-1){return false}if(g.indexOf(" ")!=-1){return false}if(g.indexOf(l)==0||g.indexOf(l)>(f-2)){return false}if(!d&&isEmailFlipkart(g)){return false}if(typeof is_email_vaild_new=="function"){return is_email_vaild_new(g)}if(typeof is_email_valid=="function"){return is_email_valid(g)}return true}function isEmailFlipkart(b){var a=b.lastIndexOf("@");tld=b.substring((1+a),(9+a)).toLowerCase();return((tld=="flipkart")||(tld=="flipcart"))}function strip(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function ajaxFailed(){}var TextBox={_focus:function(b,a){if(b.value==a){b.value="";b.style.color="#000000"}},_blur:function(b,a){if(b.value==""){b.value=a;b.style.color="grey"}}};function generateSearchLink(a,c){var b=c.href+"?"+toUrlQueryString(a);c.setAttribute("href",b);return true}function setSessionCooke(a){var c=/^[a-zA-Z0-9]{52}$/;a=strip(a);var b=c.test(a);if(b!=false){return true}return false}if(typeof document.getElementsByClassName=="undefined"){document.getElementsByClassName=function(e){var a=this.all||this.getElementsByTagName("*");var d=new Array();var c=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)");for(var b=0;b<a.length;b++){if(c.test(a[b].className)){d[d.length]=a[b]}}return d}}function addEvent(e,d,b,a){a=a||false;if(e.addEventListener){e.addEventListener(d,b,false);return true}else{if(e.attachEvent){var c=e.attachEvent("on"+d,b);return c}else{e["on"+d]=b}}}function removeEvent(d,c,b,a){a=a||false;if(d.removeEventListener){d.removeEventListener(c,b,false)}else{if(d.detachEvent){d.detachEvent("on"+c,b)}else{delete d["on"+c]}}}function updateQueryStringParameter(c,b,a){var d=new RegExp("([?|&])"+b+"=.*?(&|$)","i"),e=c.indexOf("?")!==-1?"&":"?";if(c.match(d)){return c.replace(d,"$1"+b+"="+a+"$2")}else{return c+e+b+"="+a}}function $dc(b,a){a=a||"div";var c=document.createElement(a);if(b){c.className=b}return c}function is_email_valid(f){var e=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`])*@(([a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])|[a-zA-Z0-9])(\.(([a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])|[a-zA-Z0-9]))+/;var g=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`])*@\[?[0-9\.]+\]?$/;var d=/@\./;var c=/\.@/;var b=/\.\./;var a=/\.$/;if(d.test(f)){return false}if(c.test(f)){return false}if(b.test(f)){return false}if(a.test(f)){return false}if(e.test(f)){return true}if(g.test(f)){return true}return false}if(typeof FKART.utils=="undefined"){FKART.utils={}}FKART.utils.evalScript=function(c){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.text=c;b.insertBefore(a,b.firstChild);b.removeChild(a)};FKART.utils.runSnippet=function(a,c){c=c||"script[type='text/javascript+"+a+"']";$(c).each(function(){var d=$(this);if(d.attr("data-src")){$script(d.attr("data-src"),b.curry(this))}else{b(this)}});function b(d){FKART.utils.evalScript(d.text||d.textContent||d.innerHTML);d.type=d.type+"-executed"}};FKART.utils.runOnload=function(a){FKART.utils.runSnippet("fk-onload",a)};FKART.utils.runWindowOnload=function(a){FKART.utils.runSnippet("fk-window-onload",a)};function _l(a){if(typeof console!="undefined"&&console.log){console.log(a)}return a}Function.prototype.curry=function(){var b=this,a=Array.prototype.slice.call(arguments);return function(){return b.apply(this,a.concat(Array.prototype.slice.call(arguments)))}};function throttle(b,a){var c=null;return function(){var e=this,d=arguments;clearTimeout(c);c=setTimeout(function(){b.apply(e,d)},a)}}var require_module=new function(){var a={};function f(l,g){a.js=l;a.css=g}function e(l,g){a.js[l]&&$script(a.js[l].url,g)}function c(g){a.css[g]&&!b(g)&&d(a.css[g].url)}function b(g){return !!$(document.getElementsByTagName("link")).filter("[href='"+a.css[g].url+"']").length}function d(g){var l=document.createElement("link");l.type="text/css";l.rel="stylesheet";l.href=g;document.getElementsByTagName("head")[0].appendChild(l)}return{init:f,css:c,js:e}};var validPhonenumberPattern=/^[\+\*#0-9\-,/]*[0-9]$/;if(typeof(FKART)=="undefined"){FKART={}}var CONFIG=CONFIG||{};function addOnload(a){$(document).ready(a)}function addWindowOnload(a){$(window).load(a)}(function(){$(document).ajaxError(function(g,d,f,c){var a=f.url.replace(/([&]?__FK[=][^&]+)/,""),b;_l("Ajax error for "+a);if(d.status===0){_l("Could not connect, verify network");return}b="HTTP "+d.status+" ("+c+")";_l(b);$.ajax({url:"/ajaxlog/error",global:false,data:{message:b,url:a},type:"post"})})})();FKART.parseModuleLinkTracking=function(){$(".required-tracking").each(function(){var b=$(this);var a=b.attr("data-tracking-id");a&&b.find("a[href]").each(function(){var d=$(this).attr("data-tracking-id")?a+"_"+$(this).attr("data-tracking-id"):a;var c=$(this).attr("href");!/^#|^javascript[:]/.test(c)&&$(this).attr("href",updateQueryStringParameter(c,"otracker",d))});b.removeClass("required-tracking")})};function setIframeProperty(d,c){var b=document.getElementById(d);if(b){for(var a in c){b[a]=c[a]}}}function redir(a){window.location=a}function showHelp(a){var b=window.open(a,"FlipkartHelp","width=500,height=400,resizable=1,scrollbars=1,status=1,toolbar=0,left="+((screen.width/2)-250)+",top="+((screen.height/2)-200));b.focus();return false}function hide(a){if(a){a.style.display="none"}}function show(a){if(a){a.style.display=""}}function isValidNumber(a){for(i=0;i<a.length;i++){ch=a.substring(i,i+1);if(ch<"0"||ch>"9"){return false}}return true}function isValidPhoneNumber(a){var b=validPhonenumberPattern.test(a);if(b){return true}else{return false}}function json_decode(a){return FKART.JSON.decode(a)}function enableTextbox(a){a.disabled=false;a.style.color="darkred";a.style.border="1px solid black"}function submitReview(p,f,g,d){if(!f){f=""}var m=encodeURIComponent((document.getElementById("review_title").value));var o=encodeURIComponent((document.getElementById("display_name").value));var n=encodeURIComponent((document.getElementById("review_text").value));var e=encodeURIComponent((document.getElementById("form_key").value));var l=document.getElementById("certified_buyer").checked?1:0;var b="";var a="";var c="";$("#review_help_message").empty().hide();$("#user-review-form .user-input .user-input-field").removeClass("highlight_error_component");$("#user-review-form .user-input .one_line_error_message").hide();$("#review_text_help_message").show();FKART.loader.show("Submitting review ...");ajaxRequest("POST","/kenny.php",{action:"ADDREVIEW",edition_id:f,item_id:p,review_title:m,display_name:o,review_text:n,certified:l,rating:$("#rating").val(),ratingID:$("#ratingID").val(),vertical:$("#vertical").val(),form_key:e,review_id:d},{success:function(r){var q="/reviews/"+r+"?review_posted=1";setTimeout(function(){window.location.href=q},2000);FKART.ugc.updateOmnitureFirstTime(parseInt($(".fk-give-star").attr("data-rating-count"),10),"First time Rating","event50");FKART.ugc.updateOmnitureFirstTime(parseInt(g,10),"First time Review","event51")},error:function(t,r){FKART.loader.hide();if(r){if(r.length>1){document.getElementById("review_help_message").innerHTML=t;document.getElementById("review_help_message").style.display="block";for(var q=0;q<r.length;q++){$("#"+r[q]).addClass("highlight_error_component")}}else{document.getElementById(r.join()+"_error_message").innerHTML=t;document.getElementById(r.join()+"_error_message").style.display="block";$("#"+r.join()).addClass("highlight_error_component");if(r.join()=="review_text"){$("#review_text_help_message").hide()}}}else{$("#review_help_message").text(t).show()}}})}function generateAddressSelection(a){$.ajax({type:"POST",url:"/cartman.php",data:"action=CREATE_ADDRESS_DIV_ON_ORDER_PAGE"+(a?"&force_address_selection=true":""),dataType:"json",success:function(b){var c=b;if(c){document.getElementById("order_login").innerHTML="";document.getElementById("order_billing").innerHTML="";if(c.default_address_id){selectAddressOnOrderPage(c.default_address_id)}else{document.getElementById("order_billing").innerHTML="";document.getElementById("checkout_bar").src="images/checkout2.jpg?version=2.0";document.getElementById("order_address").innerHTML=c.html;document.getElementById("order_page_new_address_name").focus()}}},error:function(){ajaxFailed()}})}function loginOnOrderPage(){document.getElementById("order_login_passwd_alert").innerHTML="&nbsp;";var b=escape(strip(document.getElementById("order_login_email").value));var a=escape(strip(document.getElementById("order_login_passwd").value));if(b==""||!isEmailValid(b)){document.getElementById("order_login_passwd_alert").innerHTML="Please enter a valid Email Address e.g. pankaj@flipkart.com";document.getElementById("order_login_email").value=b;document.getElementById("order_login_email").focus();return}if(a==""){document.getElementById("order_login_passwd_alert").innerHTML="Please enter a Password";document.getElementById("order_login_passwd").value="";document.getElementById("order_login_passwd").focus();return}document.getElementById("order_login_passwd_alert").innerHTML="&nbsp;";document.getElementById("order_login_email").disabled=true;document.getElementById("order_login_passwd").disabled=true;document.getElementById("order_login_passwd_button").disabled=true;a=hex_md5(a);$.ajax({type:"POST",url:"/kenny.php",data:{action:"LOGIN_USER_ON_ORDERPAGE",email:b,passwd:a},dataType:"text",success:function(d){if(strip(d)==0){document.getElementById("order_login_passwd_alert").innerHTML="Unable to Log in. Wrong email address or password. Try again.";document.getElementById("order_login_email").disabled=false;document.getElementById("order_login_passwd").disabled=false;document.getElementById("order_login_passwd_button").disabled=false}else{var c=setSessionCooke(d);if(c===true){document.getElementById("order_login_passwd_div").innerHTML="";generateAddressSelection()}else{ajaxFailed()}}},error:function(){ajaxFailed()}})}function createAccountOnOrderPage(){document.getElementById("order_login_passwd_alert").innerHTML="&nbsp;";var b=strip(document.getElementById("order_login_email").value);var a=escape(strip(document.getElementById("order_login_passwd").value));var c=escape(strip(document.getElementById("order_login_repeat_passwd").value));if(b==""||!isEmailValid(b)){document.getElementById("order_login_passwd_alert").innerHTML="Please enter your current Email Address, e.g. raj@gmail.com";document.getElementById("order_login_email").focus();return}b=escape(b);if(a==""){document.getElementById("order_login_passwd_alert").innerHTML="Please enter a password";document.getElementById("order_login_passwd").focus();return}if(c==""){document.getElementById("order_login_passwd_alert").innerHTML="Please enter the same password again";document.getElementById("order_login_repeat_passwd").focus();return}if(a!=c){document.getElementById("order_login_passwd_alert").innerHTML="New Passwords don't match.";document.getElementById("order_login_repeat_passwd").focus();return}document.getElementById("order_login_passwd_alert").innerHTML="&nbsp;";document.getElementById("order_login_email").disabled=true;document.getElementById("order_login_passwd").disabled=true;document.getElementById("order_login_repeat_passwd").disabled=true;document.getElementById("order_login_passwd_button").disabled=true;a=hex_md5(a);c=hex_md5(c);$.ajax({type:"POST",url:"/kenny.php",data:{action:"CREATE_ACCOUNT_ON_ORDER_PAGE",email:b,passwd:a},dataType:"text",success:function(e){if(strip(e)!=0){var f=FKART.JSON.decode(strip(e));if(f){if(f.status=="ok"){var d=setSessionCooke(f.data.sid);if(d===true){document.getElementById("order_login_passwd_div").innerHTML="";generateAddressSelection()}else{ajaxFailed()}}else{document.getElementById("order_login_email").disabled=false;document.getElementById("order_login_passwd").disabled=false;document.getElementById("order_login_repeat_passwd").disabled=false;document.getElementById("order_login_passwd_button").disabled=false;document.getElementById("order_login_passwd_alert").innerHTML=f.msg}}else{ajaxFailed()}}else{document.getElementById("order_login_email").disabled=false;document.getElementById("order_login_passwd").disabled=false;document.getElementById("order_login_repeat_passwd").disabled=false;document.getElementById("order_login_passwd_button").disabled=false;document.getElementById("order_login_passwd_alert").innerHTML="There was some error in creating this account. Please try again after some time."}},error:function(){ajaxFailed()}})}function validateAndGetAddressEntries(){if(strip(document.getElementById("order_page_new_address_name").value)==""){document.getElementById("order_page_new_address_alert").innerHTML="Please specify a Name";document.getElementById("order_page_new_address_name").value="";document.getElementById("order_page_new_address_name").focus();return null}if(strip(document.getElementById("order_page_new_address_line1").value)==""){document.getElementById("order_page_new_address_alert").innerHTML="Please specify a Street Address";document.getElementById("order_page_new_address_line1").value="";document.getElementById("order_page_new_address_line1").focus();return null}if(strip(document.getElementById("order_page_new_address_city").value)==""){document.getElementById("order_page_new_address_alert").innerHTML="Please specify a City";document.getElementById("order_page_new_address_city").value="";document.getElementById("order_page_new_address_city").focus();return null}if(strip(document.getElementById("order_page_new_address_pincode").value)==""){document.getElementById("order_page_new_address_alert").innerHTML="Please specify a Pincode";document.getElementById("order_page_new_address_pincode").value="";document.getElementById("order_page_new_address_pincode").focus();return null}else{if(!isValidNumber(strip(document.getElementById("order_page_new_address_pincode").value))){document.getElementById("order_page_new_address_alert").innerHTML="Pincode can contain only digits between 0-9.";document.getElementById("order_page_new_address_pincode").value=strip(document.getElementById("order_page_new_address_pincode").value);document.getElementById("order_page_new_address_pincode").focus();return null}else{if(strip(document.getElementById("order_page_new_address_pincode").value).length!=6){document.getElementById("order_page_new_address_alert").innerHTML="Pincode should contain 6 digits.";document.getElementById("order_page_new_address_pincode").value=strip(document.getElementById("order_page_new_address_pincode").value);document.getElementById("order_page_new_address_pincode").focus();return null}}}if(strip(document.getElementById("order_page_new_address_phone").value)==""){document.getElementById("order_page_new_address_alert").innerHTML="Please specify a Phone Number";document.getElementById("order_page_new_address_phone").value="";document.getElementById("order_page_new_address_phone").focus();return null}if(strip(document.getElementById("order_page_new_address_state").value)==""){document.getElementById("order_page_new_address_alert").innerHTML="Please specify a State";document.getElementById("order_page_new_address_state").value="";document.getElementById("order_page_new_address_state").focus();return null}document.getElementById("order_page_new_address_name").disabled=true;document.getElementById("order_page_new_address_line1").disabled=true;document.getElementById("order_page_new_address_city").disabled=true;document.getElementById("order_page_new_address_state").disabled=true;document.getElementById("order_page_new_address_pincode").disabled=true;document.getElementById("order_page_new_address_phone").disabled=true;document.getElementById("order_page_select_address_new").disabled=true;var a={name:escape(document.getElementById("order_page_new_address_name").value),address_line1:escape(document.getElementById("order_page_new_address_line1").value),city:escape(document.getElementById("order_page_new_address_city").value),state:escape(document.getElementById("order_page_new_address_state").value),pincode:escape(document.getElementById("order_page_new_address_pincode").value),phone:escape(document.getElementById("order_page_new_address_phone").value)};return a}function selectAddressOnOrderPage(a){document.getElementById("order_payment").innerHTML="";if(a==0){ret=validateAndGetAddressEntries();if(ret){name=ret.name;address_line1=ret.address_line1;city=ret.city;state=ret.state;pincode=ret.pincode;phone=ret.phone}else{return}$.ajax({type:"POST",url:"/cartman.php",data:"action=CREATE_ADDRESS_AND_BILLING_DIV_ON_ORDER_PAGE&name="+name+"&address_line1="+address_line1+"&city="+city+"&state="+state+"&pincode="+pincode+"&phone="+phone,dataType:"text",success:function(b){fillBillingDivOnOrderPage(b)},error:function(){ajaxFailed()}});return}disableCreateAddressElements();$.ajax({type:"POST",url:"/cartman.php",data:"action=CREATE_BILLING_DIV_ON_ORDER_PAGE&address_id="+a,dataType:"text",success:function(b){fillBillingDivOnOrderPage(b)},error:function(){ajaxFailed()}})}function disableCreateAddressElements(){var a;a=document.getElementById("order_page_new_address_name");if(a){a.disabled=true}a=document.getElementById("order_page_new_address_line1");if(a){a.disabled=true}a=document.getElementById("order_page_new_address_city");if(a){a.disabled=true}a=document.getElementById("order_page_new_address_state");if(a){a.disabled=true}a=document.getElementById("order_page_new_address_pincode");if(a){a.disabled=true}a=document.getElementById("order_page_new_address_phone");if(a){a.disabled=true}a=document.getElementById("order_page_select_address_new");if(a){a.disabled=true}}function fillBillingDivOnOrderPage(a){document.getElementById("checkout_bar").src="images/checkout3.jpg?version=2.0";document.getElementById("order_address").innerHTML="";document.getElementById("order_billing").innerHTML=a}function smsOrderConfirmationParams(){var b="";var a=document.getElementById("sms_alert_check").checked;if(a){b=document.getElementById("sms_alert_no").value}return"sms_alert="+(a?"true":"false")+"&m_no="+b}function makePaymentCredit(){makePaymentCommon("credit","")}function makePaymentNet(){var b="",a=document.getElementById("pay_netBankingCards");if(a){b=a.value;if(b==0){alert("Please choose a Bank");return}}makePaymentCommon("net",b)}function makePaymentDebit(){var b="",a=document.getElementById("pay_debitCards");if(a){b=a.value;if(b==0){alert("Please choose a Bank");return}}makePaymentCommon("atm",b)}var isMakePaymentInProgress=false;function makePaymentCommon(b,a){if(isMakePaymentInProgress){return}isMakePaymentInProgress=true;if(!a){a=""}ajaxRequest("POST","/kenny.php","action=MAKE_PAYMENT&pg_info="+b+"&bank_choice="+a+"&"+defaultPaymentOption.getCurrDefaultParams()+"&"+smsOrderConfirmationParams(),{success:function(c){document.getElementById("formDiv").innerHTML=c;document.getElementById("PGForm").submit()},error:function(d,c){alert("Error"+d+" Data = "+c)}})}function errorDispFunction(b,a){document.getElementById(b).innerHTML=a}function codLoader(d){errorDispFunction("tiny_error_msg_action","");var e,b,c,a;b=document.getElementById("cod_verify");e=document.getElementById("cod_resend");c=document.getElementById("cod_call");a=document.getElementById("verify_loader");if(d=="show"){e.disabled=true;b.disabled=true;c.disabled=true;a.style.visibility="visible"}else{e.disabled=false;b.disabled=false;c.disabled=false;a.style.visibility="hidden"}}function codResendSms(c){codLoader("show");function b(d){window.location="/cod_confirm.php?oid="+c}function a(e,d){codLoader("hide");errorDispFunction("tiny_error_msg_action",e)}ajaxRequest("post","/cartman.php","action=COD_SMSRESEND&oid="+c,{success:b,error:a})}function onEnterCODVerify(b,a){if(b){var c=b.keyCode?b.keyCode:b.which?b.which:b.charCode;if(c!=13){return false}}codSmsVerify(a)}function codTelephoneVerify(c){codLoader("show");function b(d){window.location="/cod_confirm.php?oid="+c}function a(e,d){codLoader("hide");errorDispFunction("tiny_error_msg_action",e)}ajaxRequest("post","/cartman.php","action=COD_CALLVERIFY&oid="+c,{success:b,error:a})}function codSmsVerify(d){codLoader("show");function c(e){window.location="/order_details?order_id="+d}function b(f,e){codLoader("hide");errorDispFunction("tiny_error_msg_action",f)}var a=document.getElementById("sms_code").value;ajaxRequest("post","/cartman.php","action=COD_SMSVERIFY&oid="+d+"&code="+a,{success:c,error:b})}function gotoCODPayment(){function a(b){document.getElementById("order_billing").innerHTML=b.html}ajaxRequest("post","/cartman.php","action=COD_PAYMENT",{success:a,error:function(c,b){alert(c)}})}function makeHDFCPaymentCredit(){makePaymentCommon("HDFC_Credit")}function makeEBSPaymentCredit(){makePaymentCommon("EBS_Credit")}function makeEBSPaymentNet(){makePaymentCommon("EBS_Net")}function makeEBSPaymentDebit(){makePaymentCommon("EBS_Debit")}function makePaymentCCAvenue(){makePaymentCommon("CCAvenue_Credit")}function makePaymentCCAvenueDebit(){var a=document.getElementById("CCAvenueDebitPayments").NonMotoCardType.value;makePaymentCommon("CCAvenue_Debit",a)}function makePaymentCCAvenueNet(){var a=document.getElementById("CCAvenueNetPayments").netBankingCards.value;makePaymentCommon("CCAvenue_Net",a)}function makePaymentDDCheque(){makePaymentCommon("DDCheque")}function makePaymentGiftCard(){$.ajax({type:"POST",url:"/kenny.php",data:"action=GOTO_GC_PAYMENT_PAGE&"+defaultPaymentOption.getCurrDefaultParams()+"&"+smsOrderConfirmationParams(),dataType:"text",success:function(a){var b=json_decode(a);if(b){document.getElementById("order_login").innerHTML="";document.getElementById("order_address").innerHTML="";document.getElementById("order_billing").innerHTML="";document.getElementById("order_payment").innerHTML=b.html}},error:function(){ajaxFailed()}})}function forgotPasswordFul(b){var a=b?b:"";if(a==""){a=document.getElementById("frgt_paswd_ful_email_id").value}$("#frgt_paswd_ful_help_message").addClass("fk-hidden");if(!a||!isEmailValid(a)){document.getElementById("frgt_paswd_ful_help_message").innerHTML="Please enter a valid Email Address.";$("#frgt_paswd_ful_help_message").removeClass("fk-hidden");return}ajaxRequest("POST","/account/a_forgotPassword",{email:a},{success:function(c){_l(c);if(c.isRegistered==1){$("#frgt_passwd_ful_div").toggle("slow",function(){document.getElementById("frgt_passwd_ful_suc").innerHTML="An email is sent to "+a+". Please check your email.";$("#frgt_passwd_ful_suc").removeClass("fk-hidden");$("#frgt_passwd_ful_suc").addClass("fk-suc-msg")})}else{if(c.isRegistered==2){$("#frgt_passwd_ful_div").toggle("slow",function(){document.getElementById("frgt_passwd_ful_suc").innerHTML="We have sent an email to your new email ID "+c.emailId+". Please check your email.";$("#frgt_passwd_ful_suc").removeClass("fk-hidden");$("#frgt_passwd_ful_suc").addClass("fk-suc-msg")})}else{document.getElementById("frgt_paswd_ful_help_message").innerHTML="No account found with that email address. Please try again.";$("#frgt_paswd_ful_help_message").removeClass("fk-hidden")}}},failure:function(d,c){document.getElementById("frgt_paswd_ful_help_message").innerHTML=d;$("#frgt_paswd_ful_help_message").removeClass("fk-hidden")}})}function forgotPassword(b){var a=b?b:"";if(a==""){a=document.getElementById("frgt_paswd_email_id").value}$("#login_tiny_help_message2").addClass("fk-hidden");$("#login_tiny_help_message").addClass("fk-hidden");if(!a||!isEmailValid(a)){document.getElementById("login_tiny_help_message2").innerHTML="Please enter a valid Email Address.";$("#login_tiny_help_message2").removeClass("fk-hidden");return}ajaxRequest("POST","/account/a_forgotPassword",{email:a},{success:function(c){if(c.isRegistered==1){$("#frgt_passwd_div").toggle("slow",function(){document.getElementById("frgt_passwd_suc").innerHTML="An email is sent to "+a+". Please check your email.";$("#frgt_passwd_suc").removeClass("fk-hidden");$("#frgt_passwd_suc").addClass("fk-suc-msg")})}else{if(c.isRegistered==2){$("#frgt_passwd_div").toggle("slow",function(){document.getElementById("frgt_passwd_suc").innerHTML="We have sent an email to "+c.emailId+". Please check your email.";$("#frgt_passwd_suc").removeClass("fk-hidden");$("#frgt_passwd_suc").addClass("fk-suc-msg")})}else{document.getElementById("login_tiny_help_message2").innerHTML="No account found with that email address. Please try again.";$("#login_tiny_help_message2").removeClass("fk-hidden")}}},failure:function(d,c){document.getElementById("login_tiny_help_message2").innerHTML=d;$("#login_tiny_help_message2").removeClass("fk-hidden")}})}function do_login(){$("#login_tiny_help_message").addClass("fk-hidden");var b=strip(document.getElementById("login_email_id").value);var a=document.getElementById("login_password").value;if(b==""||!isEmailValid(b)){document.getElementById("login_tiny_help_message").innerHTML="Please specify a <b>valid</b> Email Address";$("#login_tiny_help_message").removeClass("fk-hidden");document.getElementById("login_email_id").focus();return false}if(a==""){document.getElementById("login_tiny_help_message").innerHTML="Please specify a Password";$("#login_tiny_help_message").removeClass("fk-hidden");document.getElementById("login_password").focus();return false}b=escape(b);ajaxRequest("POST","/account/a_login",{email:b,password:a},{success:function(c){$("#login-form").removeAttr("onsubmit");$("#login-form :submit").click()},error:function(d,c){document.getElementById("login_tiny_help_message").innerHTML=d;$("#login_tiny_help_message").removeClass("fk-hidden")}});return false}function do_login_ful_keyevent(c,a){c=c||window.event;var b=c.keyCode||c.which;if(b==13){do_login_ful(a)}}function do_login_ful(c){if(!c){c=document.URL}$("#login_tiny_help_message1").addClass("fk-hidden");var b=strip(document.getElementById("login_email_id1").value);var a=document.getElementById("login_password1").value;if(b==""||!isEmailValid(b)){document.getElementById("login_tiny_help_message1").innerHTML="Please specify a <b>valid</b> Email Address";$("#login_tiny_help_message1").removeClass("fk-hidden");document.getElementById("login_email_id1").focus();return false}if(a==""){document.getElementById("login_tiny_help_message1").innerHTML="Please specify a Password";$("#login_tiny_help_message1").removeClass("fk-hidden");document.getElementById("login_password1").focus();return false}b=escape(b);FKART.loader.show();ajaxRequest("POST","/account/a_login",{email:b,password:a},{success:function(d){FKART.loader.hide();window.location.href=unescape(c)},error:function(e,d){FKART.loader.hide();document.getElementById("login_tiny_help_message1").innerHTML=e;$("#login_tiny_help_message1").removeClass("fk-hidden")}});return false}function do_signup_keyevent(c,a){c=c||window.event;var b=c.keyCode||c.which;if(b==13){do_signup(a)}}function do_signup(c){if(typeof c==""){c="http://www.flipkart.com"}document.getElementById("signup_tiny_help_message").innerHTML="";document.getElementById("signup_email_err").innerHTML="";document.getElementById("signup_password_err").innerHTML="";document.getElementById("signup_password_repeat_err").innerHTML="";$("#signup_email_id").removeClass("inp-err");$("#signup_password").removeClass("inp-err");$("#signup_password_repeat").removeClass("inp-err");$("#signup_tiny_help_message").addClass("fk-hidden");var b=strip(document.getElementById("signup_email_id").value);var a=document.getElementById("signup_password").value;var d=document.getElementById("signup_password_repeat").value;if(b==""||!isEmailValid(b)){document.getElementById("signup_email_err").innerHTML="Please enter a valid email address";$("#signup_email_id").addClass("inp-err");document.getElementById("signup_email_id").focus();return false}b=escape(b);if(a==""){document.getElementById("signup_password_err").innerHTML="Please enter a New Password";$("#signup_password").addClass("inp-err");document.getElementById("signup_password").focus();return false}if(a.length<4){document.getElementById("signup_password_err").innerHTML="Password should be minimum 4 characters long.";$("#signup_password").addClass("inp-err");document.getElementById("signup_password").focus();return false}if(d==""){document.getElementById("signup_password_repeat_err").innerHTML="Please repeat the Password";$("#signup_password_repeat").addClass("inp-err");document.getElementById("signup_password_repeat").focus();return false}if(a!=d){document.getElementById("signup_password_repeat_err").innerHTML="Passwords don't match";$("#signup_password_repeat").addClass("inp-err");return false}FKART.loader.show();ajaxRequest("POST","/account/a_signup",{email:b,password:a,password_repeat:d},{success:function(e){FKART.loader.hide();FKART.omnitureFireEvent({"track-vars":"events","track-events":"event4",events:"event4",name:"registration success"});window.location.href=unescape(c)},error:function(f,e){FKART.loader.hide();document.getElementById("signup_tiny_help_message").innerHTML=f;$("#signup_tiny_help_message").removeClass("fk-hidden")}});return false}function do_promo_enter(){var a=strip(document.getElementById("signup_email_id").value);$("#signup_tiny_help_message").addClass("fk-hidden");$("#succ-msg").addClass("fk-hidden");if(a==""||!isEmailValid(a)){document.getElementById("signup_tiny_help_message").innerHTML="Please enter a valid email address. e.g. example@example.com";$("#signup_tiny_help_message").removeClass("fk-hidden");document.getElementById("signup_email_id").focus();return false}a=escape(a);var d=document.frm.elements.length;var b=0;var f="";var c="";for(b=0;b<d;b++){if(document.frm.elements[b].name=="option"&&document.frm.elements[b].checked){if(f!=""){f+=","}f+=document.frm.elements[b].value}else{if(document.frm.elements[b].name=="campaignRef"){c=document.frm.elements[b].value}}}ajaxRequest("POST","/account/promo_signup",{email:a,verticallist:f,campaignRef:c},{success:function(e){document.getElementById("form-fields").innerHTML="";$("#succ-msg").removeClass("fk-hidden")},error:function(g,e){document.getElementById("signup_tiny_help_message").innerHTML=g;$("#signup_tiny_help_message").removeClass("fk-hidden")}});return false}function enable_account_info(){enableTextbox(document.getElementById("first_name"));enableTextbox(document.getElementById("last_name"));enableTextbox(document.getElementById("mobile"));enableTextbox(document.getElementById("landline"));enableTextbox(document.getElementById("gender"));document.getElementById("edit_change_button").innerHTML="Save Changes";document.getElementById("edit_change_button").onclick=saveChangesInAccountInfo;document.getElementById("tiny_help_message").innerHTML='Click on "Save Changes" after making any changes'}function enable_pass_info(){enableTextbox(document.getElementById("old_password"));enableTextbox(document.getElementById("new_password"));enableTextbox(document.getElementById("new_password_repeat"));document.getElementById("edit_pass_button").innerHTML="Save Changes";document.getElementById("edit_pass_button").onclick=saveChangesInPass;document.getElementById("tiny_help_message_emailpass").innerHTML='Click on "Save New Password" after making any changes'}function saveChangesInAccountInfo(){var e=document.getElementById("first_name").value;var c=document.getElementById("last_name").value;var d=document.getElementById("mobile").value;var b=document.getElementById("landline").value;var f=document.getElementById("gender").value;$("#per-info-error").addClass("fk-hidden");$("#per-info-suc").addClass("fk-hidden");var a=/^\+?[-0-9]*$/;if(!a.test(d)){$("#per-info-error").html("Invalid Mobile Number.");$("#per-info-error").removeClass("fk-hidden");return false}else{if(!a.test(b)){$("#per-info-error").html("Invalid Landline Number.");$("#per-info-error").removeClass("fk-hidden");return false}}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_updateAccount",{first_name:e,last_name:c,mobile:d,landline:b,gender:f},{success:function(g){FKART.loader.hide();$("#per-info-suc").html("Your changes have been saved successfully.");$("#per-info-suc").removeClass("fk-hidden")},error:function(g,l){FKART.loader.hide();$("#per-info-error").html(l);$("#per-info-error").removeClass("fk-hidden")}})}function dismissPasswordStrengthWarning(a){$.get("/account/a_ignorePasswordStrength");$(a).parent().hide()}function keyEvent(b){b=b||window.event;var a=b.keyCode||b.which;if(a==13){RecoverPassword()}}function RecoverPassword(){var c=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;var b=(document.getElementById("id").value);$("#tiny_help_message_emailpass").addClass("fk-hidden");if(c==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please fill New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(a==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please retype New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(c!=a){document.getElementById("tiny_help_message_emailpass").innerHTML="Passwords don't match. Please correct.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}ajaxRequest("POST","/account/a_recoverPassword",{new_pass:c,new_pass_repeat:a,id:b},{success:function(e){var d=e.msg;if(d=="ok"){document.getElementById("success-msg").innerHTML='Your password has been changed successfully. <br> <a href="/">Click here to goto Flipkart home.</a>';$("#success-msg").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""}else{document.getElementById("tiny_help_message_emailpass").innerHTML="There was a problem logging you in. Please login manually.";$("#tiny_help_message_emailpass").removeClass("fk-hidden")}},error:function(e,d){document.getElementById("tiny_help_message_emailpass").innerHTML=e;$("#tiny_help_message_emailpass").removeClass("fk-hidden")}})}function UpdatePasswordOnGuestAccountCreate(){var c=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;var b=(document.getElementById("id").value);$("#tiny_help_message_emailpass").addClass("fk-hidden");if(c==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please fill New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(a==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please retype New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(c!=a){document.getElementById("tiny_help_message_emailpass").innerHTML="Passwords don't match. Please correct.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}ajaxRequest("POST","/account/a_guestAccountSignup",{new_pass:c,new_pass_repeat:a,id:b},{success:function(e){var d=e.msg;if(d=="ok"){document.getElementById("success-msg").innerHTML='Your password has been changed successfully. <br> <a href="/">Click here to goto Flipkart home.</a>';$("#success-msg").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""}else{document.getElementById("tiny_help_message_emailpass").innerHTML="There was a problem logging you in. Please login manually.";$("#tiny_help_message_emailpass").removeClass("fk-hidden")}},error:function(e,d){document.getElementById("tiny_help_message_emailpass").innerHTML=e;$("#tiny_help_message_emailpass").removeClass("fk-hidden")}})}function accountMerge(){var e=document.getElementById("new_password").value;var b=document.getElementById("new_password_repeat").value;var a=document.getElementById("old_account_password").value;var d=(document.getElementById("id").value);var c=(document.getElementById("oldId").value);$("#upd-email-error").addClass("fk-hidden");$("#upd-email-suc").addClass("fk-hidden");if(a==""){$("#upd-email-error").html("Please fill old Account Password.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("old_password").focus();return false}if(e==""){$("#upd-email-error").html("Please fill New Password.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(b==""){$("#upd-email-error").html("Please retype New Password.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(e!=b){$("#upd-email-error").html("Passwords don't match. Please correct.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_accountMerge",{new_pass:e,new_pass_repeat:b,id:d,old_password:a,old_email_id:c},{success:function(f){FKART.loader.hide();$("#upd-email-suc").html('Your email id  has been updated successfully. <br> <a href="/">Click here to goto Flipkart home.</a>');$("#upd-email-suc").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""},error:function(g,f){FKART.loader.hide();$("#upd-email-error").html(g);$("#upd-email-error").removeClass("fk-hidden")}})}function updateEmail(){var a=strip(document.getElementById("new_email_id").value);var b=(document.getElementById("id").value);$("#upd-email-error").addClass("fk-hidden");$("#upd-email-suc").addClass("fk-hidden");if(a==""||!isEmailValid(a)){$("#upd-email-error").html("Please specify a <b>valid</b> Email Address");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_email_id").focus();return false}if(b==a){$("#upd-email-error").html("Old and new emails are same. Please enter different email id");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_email_id").focus();return false}var a=escape(a);ajaxRequest("POST","/account/a_updateEmail",{new_email_id:a,id:b},{success:function(c){FKART.loader.hide();$("#upd-email-suc").html("We have sent a mail to your new email id for re-confirmation.");$("#upd-email-suc").removeClass("fk-hidden")},error:function(d,c){FKART.loader.hide();$("#upd-email-error").html(d);$("#upd-email-error").removeClass("fk-hidden")}})}function deactivateAccount(c,d){var a=(document.getElementById("email_id").value);var b=document.getElementById("password").value;if(b==""){$("#deactv-acc-error").html("Please fill  Account Password.");$("#deactv-acc-error").removeClass("fk-hidden");document.getElementById("password").focus();return false}$("#deactv-acc-suc").addClass("fk-hidden");$("#deactv-acc-error").addClass("fk-hidden");FKART.loader.show("Authenticating...");ajaxRequest("POST","/account/a_deactivateAccount",{email_id:a,password:b},{success:function(e){FKART.loader.hide();$("#deactv-acc-error").html("Logging out...");$("#deactv-acc-suc").removeClass("fk-hidden");redir(c+"/account/logout?__FK="+d)},error:function(f,e){FKART.loader.hide();$("#deactv-acc-error").html(f);$("#deactv-acc-error").removeClass("fk-hidden")}})}function saveChangesInPass(){var b=document.getElementById("old_password").value;var c=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;document.getElementById("old_password").value="";document.getElementById("new_password").value="";document.getElementById("new_password_repeat").value="";$("#chg-paswd-error").addClass("fk-hidden");$("#chg-paswd-suc").addClass("fk-hidden");if(c==""){$("#chg-paswd-error").html("Password cannot be left empty");$("#chg-paswd-error").removeClass("fk-hidden");return false}if(c!=a){$("#chg-paswd-error").html("Password change failed. New Passwords do not match");$("#chg-paswd-error").removeClass("fk-hidden");return false}if(c==b){$("#chg-paswd-error").html("Password change failed. New Password same as the old password");$("#chg-paswd-error").removeClass("fk-hidden");return false}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_changePassword",{old_pass:b,new_pass:c,new_pass_repeat:a},{success:function(d){FKART.loader.hide();$("#chg-paswd-suc").html("Your password has been changed successfully.");$("#chg-paswd-suc").removeClass("fk-hidden")},error:function(e,d){FKART.loader.hide();$("#chg-paswd-error").html(e);$("#chg-paswd-error").removeClass("fk-hidden")}})}function deleteAddress(a){$("#address_"+a).append('<div class="sh">Deleting...</div>');$("#address_"+a+" .sh").height($("#address_"+a).height()-35);ajaxRequest("POST","/account/a_deleteAddress",{address_id:a},{success:function(b){$("#address_"+a).remove();if($("#address_infos .account_page_address_info").length==0){$("#address_infos").addClass("fk-hidden")}},error:function(c,b){$("#address_"+a+" .sh").hide()}})}function changeSubscriptionStatus(b,a){$("#unsub-suc").addClass("fk-hidden");$("#unsub-error").addClass("fk-hidden");FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_unsubscribe",{flipkart:(b=="flipkart"),flyte:(b=="flyte"),ref_id:a},{success:function(c){FKART.loader.hide();$("#unsub-suc").html("Your changes have been saved successfully");$("#unsub-suc").removeClass("fk-hidden");if(b=="flipkart"){$("#subscribe-flipkart").toggle();$("#unsubscribe-flipkart").toggle()}else{if(b=="flyte"){$("#subscribe-flyte").toggle();$("#unsubscribe-flyte").toggle()}}},error:function(d,c){FKART.loader.hide();$("#unsub-error").html(d);$("#unsub-error").removeClass("fk-hidden")}});return false}function addAddress(){var c=(document.getElementById("account_page_new_address_name").value);var d=(document.getElementById("account_page_new_address_line1").value);var l=(document.getElementById("account_page_new_address_landmark").value);var f=(document.getElementById("account_page_new_address_city").value);var e=(document.getElementById("account_page_new_address_state").value);var g=(document.getElementById("account_page_new_address_pincode").value);var b=(document.getElementById("account_page_new_address_phone").value);var a=/^[A-Za-z]+[\ +[A-Za-z]+]*$/;$("#add-error").addClass("fk-hidden");$("#add-suc").addClass("fk-hidden");if(c==""||d==""||f==""||e==""||g==""||b==""){$("#add-error").html("Please Provide all details.");$("#add-error").removeClass("fk-hidden");return false}else{if(isNaN(g)||g.length!=6){$("#add-error").html("Please Provide valid Pincode.");$("#add-error").removeClass("fk-hidden");return false}else{if(!a.test(unescape(f))){$("#add-error").html("Incorrect City Name.");$("#add-error").removeClass("fk-hidden");return false}else{if(d.length>216){$("#add-error").html("Address is longer than 216 characters");$("#add-error").removeClass("fk-hidden");return false}else{if(l.length>60){$("#add-error").html("Landmark is longer than 60 characters");$("#add-error").removeClass("fk-hidden");return false}else{if(!isValidPhoneNumber(b)){$("#add-error").html("Please provide a valid phone number");$("#add-error").removeClass("fk-hidden");return false}}}}}}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_addAddress",{name:c,address_line_1:d,address_line_2:l,city:f,state:e,pincode:g,phone:b},{success:function(m){FKART.loader.hide();$("#add-suc").html("Address added successfully.");$("#add-suc").removeClass("fk-hidden");$("#address_infos").removeClass("fk-hidden");var n=$(m);n.css("float","none");$("#address_infos").append(n);n.css("float","left")},error:function(n,m){FKART.loader.hide();$("#add-error").html(n);$("#add-error").removeClass("fk-hidden")}})}function addToWishlist(a,b,d,c){ajaxRequest("POST","/kenny.php",{action:"ADDTOWISHLIST",edition_id:a,form_key:c},{success:function(e){FKART.omnitureFireEvent({"track-vars":"products,events","track-events":"event21",products:";"+a,events:"event21",name:"add to wishlist"});if(b){if($(b).hasClass("digital")){var f=$(".edition_"+a).attr("data-item-name");var g=$(b).attr("data-item-type");FKART.digital.notify({text:'<span class="tick_icon"></span> "'+f+'" has been added to your Wishlist. &nbsp;<a href="/wishlist?filter=digital-'+g+'" class="fk-button blue">Browse Wishlist</a>'})}switch(d){case"prod":$(b).replaceWith('<span>Added to <a href="/wishlist">Wishlist</a></span>');break;case"browse":$(b).replaceWith('<span class="fk-item-wl-link"><span>Added to Wishlist.</span> Browse Wishlist</a></span>');break;case"digital-prod":var g=$(b).attr("data-item-type");$(b).replaceWith('<span style="vertical-align: middle;">Added to Wishlist.</span> <a href="/wishlist?filter=digital-'+g+'">Browse Wishlist</a>');break}}else{window.location.href="/wishlist"}},error:function(){window.location.reload()}})}function deleteFromWishlist(m,f,b,l){if(!b){var c=$("#div-"+m);var n=0;var g=parseInt($(".sno-div",c).text());var a=c.children();for(var d=0;d<a.length;d++){var e=$(a[d]).height();if(e>n){n=e}}n-=45;c.height(n);c.append('<div class="del-shim" style>Removing this item from your wishlist</div>')}ajaxRequest("POST","/kenny.php",{action:"DELETEFROMWISHLIST",edition_id:m,form_key:l},{success:function(o){if(!b){setTimeout(function(){c.show().animate({height:"toggle"},600,function(){c.remove();$(".sno-div").each(function(){var w=$(this),x=parseInt(w.text(),10);if(x>g){w.html(x-1+".")}});var v=$("#wl-itm-cnt").text();var t=v.indexOf("Item");var u=v.substring(1,t-1);var r=parseInt(u)-1;var q="";if(r==1){q=r+" Item"}else{q=r+" Items"}$("#wl-itm-cnt").html("("+q+")");$("#wl-tot-val").html($("#wl-tot-val").html()-f);if(r==0){$("#wishlist").hide();$("#empty-wishlist-msg").show()}})},500)}else{var p=$(".edition_"+m).attr("data-item-name");FKART.digital.notify({text:'<span class="tick_icon"></span> "'+p+'" has been deleted from your Wishlist.'});window.location.reload(true)}},error:function(){}})}function open_viewport(a){if(!viewport_loaded){load_viewport(a)}show(document.getElementById("viewportSection"))}function close_viewport(a){hide(document.getElementById("viewportSection"));show(document.getElementById("google_"+a))}var viewport_loaded=false;function load_viewport(a){viewport_loaded=true;viewportDiv=document.getElementById("viewport");viewer=new google.books.DefaultViewer(viewportDiv,{showLinkChrome:false});viewer.load(a,function(){})}var googleBooks={isbn:null,addEvent:function(e,d,b,a){if(e.addEventListener){e.addEventListener(d,b,a);return true}else{if(e.attachEvent){var c=e.attachEvent("on"+d,b);return c}else{}}},init:function(a){this.isbn=a;var b=document.createElement("script");b.src="http://books.google.com/books?jscmd=viewapi&bibkeys="+this.isbn+"&callback=googleBooks.googleCallback";this.append(b)},append:function(a){document.getElementsByTagName("head").item(0).appendChild(a)},googleCallback:function(b){if(b[this.isbn]){var a=b[this.isbn];if(a){if((a.preview=="full"||a.preview=="partial")&&(typeof(a.embeddable)=="undefined"||a.embeddable!=false)){this.bookInfo=a;this.loadJsAPI()}}}},loadJsAPI:function(){var a=document.createElement("script");a.src="http://www.google.co.in/jsapi";a.id="g_js_api";this.append(a);this.addEvent(a,"load",this.loadedJsAPI);this.addEvent(a,"readystatechange",function(){if((a.readyState=="complete")||(a.readyState=="loaded")){googleBooks.loadedJsAPI()}})},loadedJsAPI:function(){if(google){if(google.load){google.load("books","0",{callback:function(){}});show(document.getElementById("google_"+googleBooks.isbn))}}}};function enable_profile_info(){if(document.getElementById("is_profile_name_modified").value=="0"){enableTextbox(document.getElementById("profile_name"))}enableTextbox(document.getElementById("isWishListPublic"));document.getElementById("edit_profile_button").innerHTML="Save Changes";document.getElementById("edit_profile_button").onclick=saveChangesInUserProfile;document.getElementById("tiny_help_message_profile").innerHTML='Click on "Save Changes" after making any changes'}function saveChangesInUserProfile(){$("#pro-set-suc").addClass("fk-hidden");$("#pro-set-error").addClass("fk-hidden");var b="";if($("#isWishListPublicNo").is(":checked")){b=$("#isWishListPublicNo").val()}else{if($("#isWishListPublicYes").is(":checked")){b=$("#isWishListPublicYes").val()}}var a="";if($("#profile_name input").length){a=escape($("#profile_name input").val());if(!a){$("#pro-set-error").html("Profile name cannot be empty.");$("#pro-set-error").removeClass("fk-hidden");return false}if(a.match(/[^a-zA-Z0-9_\-\.]+/)){$("#pro-set-error").html("No spaces or special characters allowed in profile name.");$("#pro-set-error").removeClass("fk-hidden");return false}if(!a.match(/[a-zA-Z]+/)){$("#pro-set-error").html("Profile name should have atlease one character.");$("#pro-set-error").removeClass("fk-hidden");return false}}else{a=escape($("#profile_name span").html())}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_saveProfile",{profile_name:a,isWishListPublic:b},{success:function(c){FKART.loader.hide();$("#pro-set-suc").html("Your profile changes have been saved successfully.");$("#pro-set-suc").removeClass("fk-hidden");document.getElementById("publicwishlisturl").innerHTML="www.flipkart.com/wishlist/"+a;document.getElementById("publicwishlisturl").href="/wishlist/"+a;$("#profile_name").html("<span>"+a+"</span>");$("#pro-set-alert").remove()},error:function(d,c){FKART.loader.hide();$("#pro-set-error").html(d);$("#pro-set-error").removeClass("fk-hidden")}})}function enableWishlistRequestForm(){document.getElementById("request_table").style.display=""}function requestUserToMakeWishlistPublic(){var c=escape(document.getElementById("profileuserccountid").value);var b=escape(document.getElementById("Requester_email").value);var d=escape(document.getElementById("message").value);var a=escape(document.getElementById("Requester_Name").value);if(a==""){document.getElementById("tiny_help_message").innerHTML="Please enter your Name.";document.getElementById("Requester_Name").focus();return}if(!isEmailValid(b)){document.getElementById("tiny_help_message").innerHTML="Please enter a valid Email Address.";document.getElementById("Requester_email").focus();return}if(d==""){document.getElementById("tiny_help_message").innerHTML="Please enter a Message.";document.getElementById("message").focus();return}document.getElementById("Requester_email").disabled="disabled";document.getElementById("message").disabled="disabled";document.getElementById("Requester_Name").disabled="disabled";document.getElementById("send_email_button").innerHTML="Sending Email ...";document.getElementById("tiny_help_message").innerHTML="Please wait while we send your resquest as email";document.getElementById("send_email_button").onclick=null;ajaxRequest("POST","/kenny.php",{action:"WISHLISTREQUESTEMAIL",fromemail:b,account_id:c,message:d,name:a},{success:function(e){document.getElementById("send_email_button").innerHTML="Sent Email";document.getElementById("tiny_help_message").innerHTML="An email requesting the user to make his profile public has been sent with your message."},error:function(f,e){document.getElementById("send_email_button").innerHTML="Error Sending Mail";document.getElementById("tiny_help_message").innerHTML=f}})}function makewishlistpublic(a){var b=(document.getElementById("profile_name").value);var c="Yes";if(typeof a=="undefined"){a="http://www.flipkart.com"}ajaxRequest("POST","/account/a_saveProfile",{profile_name:b,isWishListPublic:c},{success:function(e){var d=setSessionCooke(e.sid);if(d===true){document.getElementById("make_wishlist_public").innerHTML="Your Wishlist is made public successfully.";window.location.href=unescape(a)}else{window.location.href=unescape(a)}},error:function(e,d){document.getElementById("make_wishlist_public").innerHTML=e}})}function setDefaultAddress(a){ajaxRequest("POST","/account/a_setDefaultAddress",{addr_id:a},{success:function(b){$(".account_page_address_info.sel").removeClass("sel");$("#address_"+a).addClass("sel")},error:function(c,b){}})}var defaultPaymentOption={pg:null,mode:null,bank_code:null,onchange_set:function(c,d){sel_mode="";var b=document.co_check_form;if(b){if(b.default_payment_option){for(var a=0;a<b.default_payment_option.length;a++){selectedOne=b.default_payment_option[a];if(selectedOne.checked==true){sel_mode=selectedOne.value;break}}}}if(sel_mode==c){this.mode=sel_mode;this.bank_code=d}},set:function(a,b,c){this.pg=a;this.mode=b;this.bank_code=c},getCurrDefaultParams:function(){if(this.mode){return"def_pg="+this.pg+"&def_mode="+this.mode+"&def_bank_code="+(this.bank_code?this.bank_code:"")}return""},sync_server:function(){if(this.mode){var a="action=SET_DEFAULT_PAYMENT_OPTION&"+this.getCurrDefaultParams();ajaxRequest("POST","/kenny.php",a,{success:function(b){},error:function(c,b){}})}}};function changeActionURL(c,a){var b=document.getElementById(c);if(b){b.action=a}}function submitSearchSortForm(a,b){var c=document.getElementById(b);show(c);a.submit()}function pngfix(){var f=navigator.appVersion.split("MSIE");var g=parseFloat(f[1]);if((g>=5.5)&&(document.body.filters)){for(var c=0;c<document.images.length;c++){var d=document.images[c];var m=d.src.toUpperCase();if(m.indexOf("?")!=-1){m=m.split("?")[0]}if(m.substring(m.length-3,m.length)==="PNG"){var e=(d.id)?"id='"+d.id+"' ":"";var n=(d.className)?"class='"+d.className+"' ":"";var b=(d.title)?"title='"+d.title+"' ":"title='"+d.alt+"' ";var l="display:inline-block;"+d.style.cssText;if(d.align=="left"){l="float:left;"+l}if(d.align=="right"){l="float:right;"+l}if(d.parentElement.href){l="cursor:hand;"+l}var a="<span "+e+n+b+' style="width:'+d.width+"px; height:"+d.height+"px;"+l+";filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+d.src+"', sizingMethod='scale');\"></span>";d.outerHTML=a;c=c-1}}}}function logAnalytics(a){ajaxRequest("POST","/kenny.php","action="+a,{})}function showMore(a){ajaxRequest("POST","/kenny.php","action=SEEMOREITEM",{});while(a++){if(document.getElementById("irritatingSliderElement-"+a)){if(document.getElementById("irritatingSliderElement-"+a).style.display=="none"){document.getElementById("irritatingSliderElement-"+a).style.display="table-row"}}else{break}}document.getElementById("irritatingSliderElement-showMore").innerHTML="See Less";document.getElementById("irritatingSliderElement-showMore").className="fksk-seeall-less mprod-similar-seeall-less";document.getElementById("irritatingSliderElement-showMore").onclick=function(){return collapseAll(a)};return false}function collapseAll(b){var a=b-4;for(;b>3;b--){if(document.getElementById("irritatingSliderElement-"+b)){document.getElementById("irritatingSliderElement-"+b).style.display="none"}}document.getElementById("irritatingSliderElement-showMore").innerHTML='<u>See More</u> <span class="seemoreNumber">('+a+")</span>";document.getElementById("irritatingSliderElement-showMore").className="fksk-seeall-more mprod-similar-seeall-more";document.getElementById("irritatingSliderElement-showMore").onclick=function(){return showMore(3)};return false}function h(a){if(typeof(a)!=="undefined"&&a!=null&&a!=""){a=a.replace("&","&amp;");a=a.replace('"',"&quot;").replace("'","&#039;");a=a.replace("<","&lt;").replace(">","&gt;")}return a}function notifyMe(d){if(d=="undefined"){d=""}var c=escape(strip(document.getElementById("email"+d).value));var a=escape(strip(document.getElementById("editionid"+d).value));var e=escape(strip(document.getElementById("price"+d).value));var b=escape(strip(document.getElementById("ret"+d).value));if(c==""||!isEmailValid(c)){document.getElementById("notify_error"+d).innerHTML="Please specify a <b>valid</b> Email Address<br />";document.getElementById("email"+d).focus();return false}document.getElementById("notify_conform"+d).innerHTML="<div style='text-align:center;'><img src='/images/ajax-loader.gif' border='0'/></div>";ajaxRequest("POST","/kenny.php","action=NOTIFYMENEW&email="+c+"&edition_id="+a+"&price="+e+"&ret="+b,{success:function(g){document.getElementById("padding_div"+d).style.display="none";document.getElementById("notify_message"+d).innerHTML="You will be <b>Notified by Email</b> when it becomes available.";document.getElementById("notify_conform"+d).innerHTML="Thank you for your interest in this Item.";var f=s_gi(s_account);f.linkTrackVars="products,eVar22,events";f.linkTrackEvents="event29";f.products=";"+a+";;;;eVar22="+f.eVar1;f.events="event29";f.tl(this,"o","Notify Me")},error:function(g,f){document.getElementById("email"+d).value=c;document.getElementById("notify_error"+d).innerHTML=g;document.getElementById("notify_message"+d).innerHTML="";document.getElementById("notify_conform"+d).innerHTML=""}});return false}function fkToggleDisplay(b){var a=document.getElementById(b).style;if(a.display=="block"){document.getElementById(b).style.display="none"}else{document.getElementById(b).style.display="block"}return false}function fkChangeDisplay(c,d,a){for(i=1;i<=c;i++){if(i==a){document.getElementById("dt"+d+"_"+i).className="csubtitle csubtitle_selected"}else{document.getElementById("dt"+d+"_"+i).className="csubtitle"}}var b="dd"+d;var f=b+"_"+a;var e=document.getElementById(f).innerHTML;document.getElementById(b).innerHTML=e;return false}function getQueryBuilderResults(e){var d=getSearchFilters(e);var c=document.getElementById("vertical").value;var b=document.getElementById("defaultFilter").value;var a=document.getElementById("limit").value;var f=document.getElementById("querybuilder-display-vertical").value;if(typeof(f)=="undefined"){f=c}document.getElementById("results-info").innerHTML='<div class="fk-qbuilder-loader"><img src="/images/bw_loader.gif" /></div>';ajaxRequest("POST","/search/getQueryBuilderResults","vertical="+c+"&filter="+d+"&defaultFilter="+b+"&limit="+a,{success:function(l){document.getElementById("results-info").innerHTML="&nbsp;";var g=l.start;if(l.start==0){g=l.datacount}document.getElementById("fk-qresults-header").innerHTML="<div class='fk-query-results-header'>Showing <b>"+g+"</b> of <b>"+l.datacount+"</b> "+f+"</div>";document.getElementById("results-data").innerHTML=l.html;document.getElementById("fk-qresults-more").innerHTML="";if(l.morelink_flag){document.getElementById("fk-qresults-more").innerHTML=getQueryBuilderMoreLink(l.more_url,l.start,f)}window.location.hash="#page=landing;filter="+d+";limit="+g},error:function(l,g){document.getElementById("fk-qresults-header").innerHTML="";document.getElementById("results-info").innerHTML="&nbsp;";document.getElementById("fk-qresults-more").innerHTML="";document.getElementById("results-data").innerHTML="<div class='fk-error-querybuilder'><b>Sorry, no results found. Please select another option.</b></div>"}});return false}function getSearchFilters(d){var a=getFilterTitles(d);var c="";var e=0;for(var b=0;b<a.length;b++){var f=document.getElementById(a[b]).value;if(f!=""){if(e==0){c+=a[b]+":"+f}else{c+=">>"+a[b]+":"+f}e++}}return c}function getFilterTitles(b){var a=new Array();for(i=0;i<b.elements.length;i++){if(b.elements[i].type=="select-one"){a.push(b.elements[i].id)}}return a}function showMoreQueryBuilderResults(b,g,f){var a=document.getElementById("vertical").value;var c=b.split("?",2);var e="more-results-"+g;document.getElementById("results-info").innerHTML='<div class="fk-qbuilder-loader"><img src="/images/bw_loader.gif" /></div>';var d=document.getElementById("querybuilder-display-vertical").value;if(typeof(d)=="undefined"){d=a}ajaxRequest("POST",c[0],c[1],{success:function(o){document.getElementById("results-info").innerHTML="";var m=o.start;if(o.start==0){m=o.datacount}document.getElementById("fk-qresults-header").innerHTML="<div class='fk-query-results-header'>Showing <b>"+m+"</b> of <b>"+o.datacount+"</b> "+d+"</div>";document.getElementById(e).innerHTML=o.html;document.getElementById("fk-qresults-more").innerHTML="";if(o.morelink_flag){document.getElementById("fk-qresults-more").innerHTML=getQueryBuilderMoreLink(o.more_url,o.start,d)}var n=(window.location.hash).indexOf("limit=");var l="";if(n==-1){l="limit="}else{l=(window.location.hash).slice(0,n+6)}var p=l+m;window.location.hash=p},error:function(m,l){document.getElementById("results-info").innerHTML="";document.getElementById("fk-qresults-more").innerHTML=""}});return false}function getQueryBuilderMoreLink(b,d,c){var a="";a='<div class="line"><a class="fk-query-morelink" href="javascript:void(0);" onclick="showMoreQueryBuilderResults(\''+b+"','"+d+"', '"+c+'\');"><span>See More Results</span>&nbsp;<img src ="/images/fkart/arrow_big.png" class="fk-query-moreimg"/></a></div>';return a}function getResultsForHashParams(g){var e=g.split(";");var l="";var b=0;var c="";for(var m=0;m<e.length;m++){var f=e[m];var a=f.split("=");switch(a[0]){case"start":b=a[1];break;case"vertical":l=a[1]}}var o=l;if(l=="computers"){o="laptops"}var p="/search/getQueryBuilderResults?"+g.replace(/;/g,"&");var n=g.match(/filter=([^;]+);?/);if(n){var d=unescape(n[1]).split(">>");for(var m in d){var c=d[m].split(":");if(c.length==2){$("#"+c[0]).val(c[1])}}}showHashResults(p,0,o)}function showHashResults(b,f,e){var c=b.split("?",2);document.getElementById("fk-qresults-header").innerHTML="";document.getElementById("results-data").innerHTML="";document.getElementById("results-info").innerHTML='<div class="fk-qbuilder-loader"><img src="/images/bw_loader.gif" /></div>';document.getElementById("fk-qresults-more").innerHTML="";var a=document.getElementById("vertical").value;var d=document.getElementById("querybuilder-display-vertical").value;if(typeof(d)=="undefined"){d=a}ajaxRequest("POST",c[0],c[1],{success:function(n){document.getElementById("results-info").innerHTML="";var l=n.start;if(n.start==0){l=n.datacount}document.getElementById("fk-qresults-header").innerHTML="<div class='fk-query-results-header'>Showing <b>"+l+"</b> of <b>"+n.datacount+"</b> "+d+"</div>";document.getElementById("results-data").innerHTML=n.html;document.getElementById("fk-qresults-more").innerHTML="";if(n.morelink_flag){document.getElementById("fk-qresults-more").innerHTML=getQueryBuilderMoreLink(n.more_url,n.start,d)}var m=(window.location.hash).indexOf("limit=");var g="";if(m==-1){g="limit="}else{g=(window.location.hash).slice(0,m+6)}window.location.hash=g+l},error:function(l,g){document.getElementById("results-info").innerHTML="";document.getElementById("fk-qresults-more").innerHTML=""}});return false}function newsletterEmailScroll(a){var b=$("#sem_email_capture");if($(window).scrollTop()>=FKART.SEM.emailDivTop){if(b.css("position")!="fixed"){b.css("position","fixed").css("top","0").css("zIndex","100").css("width",FKART.SEM.emailDivWidth)}}else{b.css("position","static")}}function newsletterEmailSubmit(a){var b={};b.emailid=$("#sem_email_id")[0].value;b.source="sem";b.form_key=escape(Utf8encode($("#sem_form_key")[0].value));if($("#sem_email_id:text")[0].value==$("#sem_email_id")[0].getAttribute("grey_text")||$("#sem_email_id")[0].value==""){return}ajaxRequestNew("POST","/xhr/registerNewsletterEmail",b,{success:function(c){$("#sem_email_capture").css("display","none");$("#sem_email_capture_thankyou").css("display","block").fadeOut(2000,function(){})},error:function(d,c){$("#sem_email_capture").css("display","none");$("#sem_email_capture_thankyou").css("display","block").fadeOut(2000,function(){})},failure:function(c){$("#sem_email_capture").css("display","none");$("#sem_email_capture_thankyou").css("display","block").fadeOut(2000,function(){})}})}function newsletterEnterEvtHandler(a){var b=a.which?a.which:a.keyCode;if(b==13){newsletterEmailSubmit(a)}}function textboxGreyTextFocus(a){if(a.target.value==a.target.getAttribute("grey_text")){a.target.value="";$(a.target).css("color","#333333").css("fontSize","13px")}}function textboxGreyTextBlur(a){if(a.target.value==""){a.target.value=a.target.getAttribute("grey_text");$(a.target).css("color","#AAAAAA").css("fontSize","13px")}}FKART.carousel=function(c,b){try{$("#"+c).jcarousel(b)}catch(a){}};FKART.MI={images40:{},images275:{},images400:{},images700:{},images1100:{},imagesCount:0,currentLargeImage:{},currentLargeImageOrder:0,currentSmallImage:{},currentSmallImageOrder:0,imageAreaHeight:300,longCarouselRendered:false,init:function(c){this.images40=c.images40;this.images275=c.images275;this.images400=c.images400;this.images700=c.images700;this.images1100=c.images1100;this.visibleItems=c.visibleItems;if(this.images40){if(this.images40.length){this.imagesCount=this.images40.length}else{this.imagesCount=this.lengthOf(this.images40)}}else{this.imagesCount=0}if(this.imagesCount>this.visibleItems){FKART.carousel("pp-small-carousel",{size:this.imagesCount,scroll:this.visibleItems,wrap:"last",buttonNextHTML:'<input type="button" />',buttonPrevHTML:'<input type="button" />'})}var b=400;if(this.images700){b=700}if(typeof(this.pp_large_images_popup)=="object"){this.pp_large_images_popup.getContainer().remove()}this.pp_large_images_popup=new FKART.ui.Dialog({width:(b+200),body:$("#pp-large-images-popup"),modal:true,header:$("#pp-large-images-popup .title"),cssClass:"fk-popup",showFooter:false});var a=$(window).height()-100;if(b<a){a=b}$(".visible-image-large").css("height",a+"px");this.imageAreaHeight=$(".main-image").height();$(".thumbs-small, .quickview-thumbs").bind("hover",function(){FKART.MI.loadSmallImage($(this).attr("rel"))});$(".thumbs-small").bind("click",function(){FKART.MI.showPopup();FKART.MI.loadLargeImage($(this).attr("rel"))});$(".thumbs-large").bind("click",function(){FKART.MI.loadLargeImage($(this).attr("rel"))});$("#large-image-link").bind("click",function(){FKART.MI.showPopup();FKART.MI.loadLargeImage($("#visible-image-small").attr("rel"))})},showPopup:function(){this.pp_large_images_popup.show();var a=($(".visible-image-large").height()-$("#visible-image-large").height())/2;if(a>0){$("#visible-image-large").css({"margin-top":a+"px"})}},hidePopup:function(){this.pp_large_images_popup.hide()},loadSmallImage:function(f){this.currentSmallImage=this.getImage(f,275);var c=this.getImage(f,1100);if(this.currentSmallImage){var d=this.currentSmallImage.s3_path;var e=this.currentSmallImage.actual_height;var b=this.currentSmallImage.actual_width;var f=this.currentSmallImage.id;var a=$("#visible-image-small").attr("src");if(a!=d){this.showLoader(1);$("#visible-image-small").attr("rel",f).attr("src",d).closest(".image-wrapper").css({top:parseInt((this.imageAreaHeight-e)/2)+"px"});if(typeof(c)!="undefined"&&typeof(c.s3_path)!="undefined"){$("#visible-image-small").attr("data-zoom-src",c.s3_path);$(".zoom-msg").show();FKART.MI.hideLoader(1)}else{$("#visible-image-small").attr("data-zoom-src","");$(".zoom-msg").hide();$("#visible-image-small").unbind("load").load(function(){FKART.MI.hideLoader(1)})}}}},loadLargeImage:function(l){var c=[700,400];for(var e in c){this.currentLargeImage=this.getImage(l,c[e]);if(this.currentLargeImage){break}}if(this.currentLargeImage){var d=this.currentLargeImage.s3_path;var f=this.currentLargeImage.actual_height;var b=this.currentLargeImage.actual_width;var l=this.currentLargeImage.id;var a=$("#visible-image-large").attr("src");if(a!=d){this.showLoader(2);$("#visible-image-large").attr("src",d);var g=($(".visible-image-large").height()-f)/2;g=parseInt(g)>0?g:0;$("#visible-image-large").css({"margin-top":g+"px"});$(".thumbs-large").each(function(){$(this).removeClass("active")});if(typeof(l)!="undefined"&&l){$("#thumb-"+l).addClass("active")}$("#visible-image-large").unbind("load").load(function(){FKART.MI.hideLoader(2)})}}},getImage:function(c,b){switch(b){case 40:for(var a in this.images40){if(this.images40[a].id==c){return this.images40[a]}}return false;case 275:for(var a in this.images275){if(this.images275[a].id==c){return this.images275[a]}}return false;case 400:for(var a in this.images400){if(this.images400[a].id==c){return this.images400[a]}}return false;case 700:for(var a in this.images700){if(this.images700[a].id==c){return this.images700[a]}}return false;case 1100:for(var a in this.images1100){if(this.images1100[a].id==c){return this.images1100[a]}}return false}},showLoader:function(a){switch(a){case 1:$("#visible-image-small").hide();$("#loader-image-small").show();break;case 2:$("#visible-image-large").hide();$("#loader-image-large").show();break}},hideLoader:function(a){switch(a){case 1:$("#visible-image-small").show();$("#loader-image-small").hide();break;case 2:$("#visible-image-large").show();$("#loader-image-large").hide();break}},lengthOf:function(b){var a=0;for(var c in b){if(b.hasOwnProperty(c)){++a}}return a}};FKART.Wishlist={toolTipTitle:"What is this?",toolTipBody:"By making your wishlist public, you let others view and share it. You can change this setting any time you want.",changePrivacy:function(b,a){ajaxRequest("POST","/account/a_saveProfile",{profile_name:a,isWishListPublic:b},{success:function(){location.reload()},error:function(d,c){}})},changeSort:function(d,a){var c=document.getElementById("pageNo").value;var b=document.getElementById("wishlist-filter").value;window.location=a+"?page="+c+"&sort="+d.value+"&filter="+b},showToolTip:function(a){FKART.Tooltip.show(a,FKART.Wishlist.toolTipTitle,FKART.Wishlist.toolTipBody)}};FKART.Tooltip={show:function(c,d,a){var b=$(c).offset();if(!$("#fk-tooltip").length){FKART.Tooltip.init(d,a);$("#fk-tooltip").offset({left:b.left-127+$(c).width()/2,top:(b.top+22)})}else{$("#fk-tooltip").show()}$("#fk-tooltip").offset({left:b.left-127+$(c).width()/2,top:(b.top+22)})},hide:function(){$("#fk-tooltip").hide()},init:function(b,a){$("body").append('<div class="fk-ttip" id="fk-tooltip"><span class="cls" onclick="FKART.Tooltip.hide();return false;"></span><span class="arw"></span><div class="titl">'+b+"</div>"+a+"</div>")}};FKART.cbTooltip={showPopup:function(b){if(!$("#cashback-tooltip").length){FKART.cbTooltip.init()}$("#cashback-tooltip").show();var a=$(b).offset();$("#cashback-tooltip").offset({left:a.left-125+$(b).width()/2,top:(a.top+22)});$("#cashback-tooltip").offset({left:a.left-125+$(b).width()/2,top:(a.top+22)})},hidePopup:function(){$("#cashback-tooltip").hide()},init:function(){$("body").append('<div class="fk-cb-ttip" id="cashback-tooltip"><span class="cls" onclick="FKART.cbTooltip.hidePopup();return false;"></span><span class="arw"></span><div class="titl">How does \'Cashback\' work?</div>The \'Cashback\' offer is <b>instant</b> and exclusive to Flipkart.com. You pay only the final price that you see in your shopping cart.</div>')}};function brandLogoInit(){var a=$("#promo-know-more-message").attr("msg");var b=new FKART.ui.Tooltip({message:a,nearElement:$(".promo-logo"),cssClass:"fks-promo-logo-tooltip"});$(".promo-logo").click(function(){b.show()})}function warrantyPopupInit(c,b){var d="Warranty";var a=new FKART.ui.Popup({header:"Warranty",message:$("#"+b),nearElement:$("#"+c),repositionCallback:function(e){$(this).css("left",(e.left+100)+"px")},cssClass:"warranty-popup"});$("#"+c).click(function(){a.show()})}function showPopup(c,b,d){var a=new FKART.ui.Popup({header:d,message:$("#"+b),nearElement:$("#"+c)});$("#"+c).click(function(){a.show()})}function stripslashes(a){return(a+"").replace(/\\(.?)/g,function(c,b){switch(b){case"\\":return"\\";case"0":return"\u0000";case"":return"";default:return b}})}function adHelpPopupInit(d,b){var c='We sometimes show sponsored content relevant to our users. Flipkart doesn\'t share any personal information with the sponsors. The sponsored content is always clearly marked  as Sponsored or Advertisements. If you have any feedback on this feature, please let us know through our <a href="/s/contact?issueType=features_suggestions" target="_blank">contact us form</a>. Please contact us at <a href="/s/contact?issueType=business_related" target="_blank">this form</a> if you want to know more about this program.';var a=new FKART.ui.Tooltip({message:c,nearElement:$(d),cssClass:"popup-ads"});$(b).click(function(){a.show()})}FKART.initBuyOptionTooltips=function(){var d=new FKART.ui.HoverTooltip({nearElement:$(".buw"),extraHoverArea:false,cssClass:"buw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var a=new FKART.ui.HoverTooltip({nearElement:$(".atc"),extraHoverArea:false,cssClass:"atc-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var c=new FKART.ui.HoverTooltip({nearElement:$(".buy-options .add-to-wishlist"),extraHoverArea:false,cssClass:"atw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var e=new FKART.ui.HoverTooltip({nearElement:$(".del-wishlist"),extraHoverArea:false,cssClass:"atw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var b=new FKART.ui.HoverTooltip({nearElement:$(".add-to-lib"),extraHoverArea:false,cssClass:"add-to-lib-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0})};function fkShowAnswer(a){$(a).unbind("click");$(a).parent().addClass("fk-answer");$(a).parent().removeClass("fk-question");$(a).parent().next().show();$(a).parent().addClass("hidden")}FKART.Location={loader:null,checkAvailability:function(c,a){$("#checkPIN").attr("disabled",true);var b=$("#pincode").val();if(!b||b==""||isNaN(parseInt(b))||(b.length!=6)||!isValidNumber(b)){$("#available-true").hide();$("#available-false").hide();$("#invalid-pincode").show();$("#checkPIN").attr("disabled",false);return}if(!FKART.Location.loader){FKART.Location.loader=FKART.ui.Loader({type:"inline",renderTo:"#location-availability-form",size:"small"})}FKART.Location.loader.show();ajaxRequest("GET","/xhr/checkLocationAvailability",{id:c,pincode:b},{success:function(e){FKART.Location.loader.hide();$("#checkPIN").attr("disabled",false);var f="event15",d="event15";if(e){$("#available-false").hide();$("#invalid-pincode").hide();$("#available-true").show()}else{$("#available-true").hide();$("#invalid-pincode").hide();$("#available-false").show();f+=",event23";d+=",event23"}FKART.omnitureFireEvent({"track-vars":"eVar15,products,eVar22,events","track-events":f,products:";"+c+";;;;eVar22="+a,eVar15:b,events:d,name:"pincode check"})}})},checkserviceability:function(c,a){var b=$("#pincode").val();if(!b||b==""||isNaN(parseInt(b))||(b.length!=6)||!isValidNumber(b)||parseInt(b,10)<100000||parseInt(b,10)>999999){$("#available-true").hide();$("#available-false").hide();$("#invalid-pincode").show();return}if(!FKART.Location.loader){FKART.Location.loader=FKART.ui.Loader({type:"inline",renderTo:"#location-availability-form",size:"small"})}FKART.Location.loader.show();$.ajax({url:"/product-ajax/getTopSection?pid="+c+"&pincode="+b,success:function(d){$("#topsection").html(d.data.topSection);$("#keyFeatures").html(d.data.keyFeatures);$("#specifications").html(d.data.specification);FKART.utils.runOnload();FKART.Location.loader.hide()},dataType:"json"})},showAvailablityChecker:function(){$("#location-avail-checker").show();$("#cod-available-true").hide();$("#pp-available-true").hide();$("#available-false").hide();$("#invalid-pincode").hide();$("#location-avail-res").hide()}};function myRecommendationSourcesPopupInit(){window.reco_popup=new FKART.ui.Popup({header:"Recommended Because",message:"aa",nearElement:""})}function myRecommendationSourcesPopup(b){window.reco_popup.hide();var a="feedback_response"+b;window.reco_popup.changeContent($("#"+b).html());window.reco_popup.changeNearElement($("#"+a));window.reco_popup.show()}DigitalLib={applyFilter:function(b,a){location.href="/account/"+a+"library?filter="+b+"&sort="+$("."+a+"-lib select.sort_option").val()}};ebookLib={init:function(){$(".ebooks-lib .filter a").click(function(a){var b=$(this);DigitalLib.applyFilter(b.attr("data-link"),b.attr("data-lib"));return false});$(".ebooks-lib select.sort_option").change(function(a){var b=$(".ebooks-lib .filter .selected");DigitalLib.applyFilter(b.attr("data-link"),b.attr("data-lib"))})}};MP3Lib={watchForDownloadStart:function(b,d){var c=100;var a=setInterval(function(){var e=$.cookie(b+"_started");if(e||c==0){clearInterval(a);$.cookie(b+"_started",null);if(d){d()}}c--},100)},init:function(){$("#floating-head").width($("#product-list").width());var b=[];$.each($("#product-list .thd .col"),function(c,d){b.push($(d).width())});b.reverse();$.each($("#floating-head table .thd .col"),function(c,d){$(d).width(b.pop())});$(window).scroll(function(){if($("#product-list").offset().top-45<=$(window).scrollTop()&&$("#product-list").offset().top+$("#product-list").height()-$("#floating-head").height()>$(window).scrollTop()){$("#floating-head").show()}else{$("#floating-head").hide()}});$("#expandAllAlbums").click(function(){$(".album").each(function(){if(!$(this).hasClass("expd")){MP3Lib.toggleShowAlbum($(this))}});MP3Lib.defaultAlbumView="expand"});$("#collapseAllAlbums").click(function(){$(".album").each(function(){if($(this).hasClass("expd")){MP3Lib.toggleShowAlbum($(this))}});MP3Lib.defaultAlbumView="collapse"});var a=new FKART.ui.HoverTooltip({nearElement:$(".dwnld-icn-enabled"),extraHoverArea:false,cssClass:"atw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});$("#product-list").click(function(l){if($(l.target).hasClass("album-click")){MP3Lib.toggleShowAlbum($(l.target).parents(".level0"))}else{if($(l.target).filter(".mp3-lib .dwnld-icn-enabled").length){var g=$(l.target);var o=g.closest("li").find(".row-id").html();var f=g.closest("li").find(".track-id").html();var d=g.closest("li").find("select.bit-rate").val();var c=g.closest("li").find(".form-key").html();MP3Lib.download(o,f,d,c);g.hide().siblings(".loader").show();MP3Lib.watchForDownloadStart(o,function(){g.show().siblings(".loader").hide()})}else{if($(l.target).parent().hasClass("album")){var n=$(l.target).is(":checked");var m=$(l.target).parents(".album");if(!m.hasClass("expd")){MP3Lib.toggleShowAlbum(m)}if(n){m.find("input:checkbox").attr("checked","checked")}else{m.find("input:checkbox").removeAttr("checked")}}}}});$(".mp3-lib .filter a").click(function(c){var d=$(this);DigitalLib.applyFilter(d.attr("data-link"),d.attr("data-lib"));return false});$(".mp3-lib select.sort_option").change(function(d){var c=$(".mp3-lib .filter .selected");DigitalLib.applyFilter(c.attr("data-link"),c.attr("data-lib"))});$(".mp3-lib .download_selected_but").click(function(f){var d=[];var e=[];var c=[];$("#product-list .track input:checked").each(function(l,g){d.push($(g).parents("li").find(".row-id").html());e.push($(g).parents("li").find(".track-id").html());c.push($(g).parents("li").find("select.bit-rate").val())});if(d.length){MP3Lib.download(d.join(","),e.join(","),c.join(","))}else{new FKART.Alert({body:"<b>Please select songs to download</b>",width:500,destroy_on_close:true})}});$(".dwld-opt .selected").click(function(e){var f=$(".dwld-opt");f.toggleClass("opn");var d=false;var c=false;var g=function(l){if(d){d=false;return}if(!$(l.target).parents().is(".dwld-opt")){f.removeClass("opn");$(document).unbind("click",g);c=false}};if(f.hasClass("opn")){if(!c){$(document).bind("click",g);c=true}d=true}});$(".dwld-opt .itm").click(function(l){$(".dwld-opt .opt-hd").removeClass("sel");var c=$(l.currentTarget).find(".opt-hd");c.addClass("sel");var g=$(".download.col .chk-box").add(".album-checkbox");g.hide();$(".top-all-action-select").hide();$(".top-all-action-download").show();var f=$(".download.col .download-icn");f.hide();var d=$(".download_selected_but");d.hide();$(".dwld-opt .selected .txt").html($(c.find("span").get(1)).html());if(c.attr("id")=="browser-based"){$("#download-method").val("browser");f.show();MP3Lib.downloadMethod="direct"}else{if(c.attr("id")=="flyte-dwld-manager"){$(".top-all-action-select").show();$(".top-all-action-download").hide();g.show();d.show();$("#download-method").val("download_manager");MP3Lib.downloadMethod="dwnld_mgr"}}$(".dwld-opt").removeClass("opn")})},loadDefaultAlbumView:function(){if(MP3Lib.defaultAlbumView=="expand"){$(".album:not(.expd)").each(function(){if(!$(this).hasClass("expd")){MP3Lib.toggleShowAlbum($(this))}})}},toggleShowAlbum:function(a){a.find(".album-tracks").slideToggle("fast",function(){a.toggleClass("expd");if(a.hasClass("expd")){a.find(".num-of-tracks").text("Showing "+$(this).children().length+" Tracks")}else{a.find(".num-of-tracks").text($(this).children().length+" Tracks")}})},toggleDownloadMethod:function(){if(typeof MP3Lib.downloadMethod!="undefined"){var b=$(".download.col .download-icn");var a=$(".download_selected_but");var c=$(".download.col .chk-box").add(".album-checkbox");if(MP3Lib.downloadMethod=="direct"){a.hide();c.hide();b.show()}else{if(MP3Lib.downloadMethod=="dwnld_mgr"){b.hide();c.show();a.show()}}}},download:function(c,d,o,q){var f=d.split(",");var m=o.split(",");var n=[];for(var l in f){n.push(";"+f[l]+";;;event13=1;eVar22=DigitalMP3|eVar26="+m[l])}FKART.omnitureFireEvent({"track-vars":"events,products","track-events":"event14",products:n.join(","),events:"event14",name:"Library Download"});var b=document.createElement("form");b.setAttribute("method","POST");var a=$("#download-method").val();if(a&&a=="download_manager"){b.setAttribute("action","/download.fkdm")}else{b.setAttribute("action","/account/download")}var g={ids:c,bit_rate:o,__FK:q};for(var p in g){var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name",p);e.setAttribute("value",g[p]);b.appendChild(e)}document.body.appendChild(b);b.submit()},selectAllToggle:function(a){if($(a).is(":checked")){$("#product-list input").attr("checked","checked");$("#floating-head .download input").attr("checked","checked")}else{$("#product-list input").removeAttr("checked");$("#floating-head .download input").removeAttr("checked")}},changeFileSize:function(d,b){var c=d.target;var a=b[$(c).find("option:selected").val()];$(c).parents("span.bit-rate").find(".file-size").html(a)}};FKART.bindScrollableTrackListHeader=function(){var c=$(window);var b=$(".track-list #header-row");var a=$(".track-list .table.scroll");a.css({width:$(".track-list .table.content").outerWidth(),left:b.offset().left});c.scroll(function(){if(b.offset().top<=c.scrollTop()){a.show()}else{a.hide()}})};function updateUserPreferences(){FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_updateUserPreferences",$("#preferences_form").serializeObject(),{success:function(a){location.reload()},error:function(a,b){FKART.loader.hide()}});return true}FKART.orderCancel=function(){var c={},a=null,e=null;var f=function(l){c=l;var m=a.getContainer();if(e){e.removeClass("last")}if(c.isOrderLevel){$("#cncl_itemId").val("");$(".cancelOrderInfo tr[class*='order-data']").show()}else{$("#cncl_itemId").val(l.itemId);$(".cancelOrderInfo tr[class*='order-data']").each(function(n){if(n==l.index){if(!$(this).hasClass("last")){e=$(this)}$(this).show().addClass("last")}else{$(this).hide()}})}if(l.ref_req=="Cancel_4"){m.find(".refund_pref").show();$("#caseType_1").attr("checked",true)}else{if(l.ref_req=="Cancel_1"){m.find(".refund_pref").show();$("#caseType_1").attr("checked",true);$(".ref-original").hide()}else{if(l.ref_req=="Cancel_2"){m.find(".refund_pref").show();$("#caseType_2").attr("checked",true);$(".ref-wallet").hide()}else{m.find(".refund_pref").hide();$("#caseType_2").val(l.ref_req).attr("checked",true)}}}if(l.isEMI=="true"){$(".source-note",m).show()}$("#other_description, #enum_description",m).val("");$("#cancel_message",m).hide();$("#cancel_order_form",m).show();a.show();$("#desc_error_msg").hide();$("#other_description").unbind("keypress").bind("keypress",function(){$("#desc_error_msg").hide()})};var b=function(m,l){var n=a.getContainer();$("#cancel_order_form",n).hide();$("#cancel_message",n).show();$("#cancel_message .icon").toggleClass("success",!l).toggleClass("error",l);$("#cancel_message .message").html(m).show();a.show()};var d=function(){var m=$("#enum_description").val();if($.trim(m)!=""){FKART.loader.show("Loading...");a.hide();var l=(c.isOrderLevel)?"/account/cancelOrder":"/account/cancel";ajaxRequest("POST",l,$("#cancel_order_form").serializeObject(),{success:function(o){a.bindEvent("beforeHide",function(){window.location.reload()});FKART.loader.hide();var n="";if(c.ref_req=="Cancel_3"){n="We have successfully received your cancellation request. You will receive a confirmation once the cancellation is completed."}else{n="We have received your cancellation request. The item will be cancelled and refund will be processed according to your preference."}b(n,false);FKART.omni.customEvent("Cancel Order",{events:"event32"})},error:function(n,o){FKART.loader.hide();b("Cancellation request failed. Please get in touch with <a href='/s/contact' title='Contact us'>Flipkart Customer Support</a>.",true)}});return true}else{$("#desc_error_msg").show().html("<p>* Please specify the reason for cancelling this order.</p>");return false}};var g=function(){a=new FKART.ui.Dialog({width:650,body:$("#cancel_order_dialog"),modal:true,header:"Request Cancellation",showFooter:true,showCloseIcon:true,cssClass:"fk-popup cancel_order_dialog"});$("#cancel_order_form").submit(function(){d();return false})};return{init:function(){$(".cancel-order, .cancel:not('.disabled')").click(function(){if(FKART.login.isUserLoggedIn()){var n=$(this);if(!a){g()}if(n.attr("cancelOrderFlag")=="true"){FKART.loader.show();var l=(n.hasClass("cancel-order"))?"/account/calculateRefundAmountOrderLevel":"/account/calculateRefundAmountItemLevel";$.ajax({type:"POST",url:l,success:function(q){FKART.loader.hide();if(q.refund_amount<0){var p="Please <a href='/s/contact' title='Contact us'>Contact Us</a> to cancel this item - as your overall order value drops below Rs 300 and no shipping fee was previously charged.";b(p,true)}else{var o;if(n.hasClass("cancel-order")){o={isEMI:n.attr("isEMI"),ref_req:q.refund_mode,isOrderLevel:true}}else{o={isEMI:n.attr("isEMI"),ref_req:q.refund_mode,index:n.attr("index"),price:n.attr("price"),itemId:n.attr("itemId"),isOrderLevel:false}}o.elm=n;f(o)}},error:function(){FKART.loader.hide();b("Cancellation request failed. Please get in touch with <a href='/s/contact' title='Contact us'>Flipkart Customer Support</a>.",true)},data:{itemId:n.attr("itemId"),orderId:$("[name='orderId']").val(),tot_payment_modes:n.attr("tot_payment_modes")},dataType:"json"})}else{var m={isEMI:n.attr("isEMI"),ref_req:n.attr("ref_req"),index:n.attr("index"),price:n.attr("price"),itemId:n.attr("itemId"),isOrderLevel:false};m.refund_amount=m.price;m.elm=n;f(m)}}else{if($("#login-signup-dialog #new-usr-msg").length==0){$("#login-signup-dialog").prepend("<div id='new-usr-msg' class='bpadding10 tpadding10'>Please login or register using the same email id which was used to place this order.</div>")}FKART.login.showPopup(null,true)}})}}}();FKART.FLO_OrderCancel=function(){var c={},a=null,e=null;var f=function(l){c=l;var n=a.getContainer();if(c.isOrderLevel){$("#cncl_itemId").val("");$(".cancelOrderInfo tr[class*='order-data']").show()}else{$("#cncl_itemId").val(l.itemId);var m=$(".js-promo-msg").toggle(l.isPromo&&l.otherItemIds.length>0);$(".cancelOrderInfo tr[class*='order-data']").each(function(o){var p=$(this);if(o==l.index||(l.isPromo&&$.inArray(p.attr("data-id"),l.otherItemIds)!=-1)){p.show();if(o==l.index&&l.isPromo){m.find("strong").text($("td:first",p).html())}}else{p.hide()}})}if(l.ref_req=="Cancel_4"){n.find(".refund_pref").show();$("#caseType_1").attr("checked",true)}else{if(l.ref_req=="Cancel_1"){n.find(".refund_pref").show();$("#caseType_1").attr("checked",true);$(".ref-original").hide()}else{if(l.ref_req=="Cancel_2"){n.find(".refund_pref").show();$("#caseType_2").attr("checked",true);$(".ref-wallet").hide()}else{n.find(".refund_pref").hide();$("#caseType_2").val(l.ref_req).attr("checked",true)}}}if(l.isEMI=="true"){$(".source-note",n).show()}$("#other_description, #enum_description",n).val("");$("#cancel_message",n).hide();$("#cancel_order_form",n).show();a.show();$("#desc_error_msg").hide();$("#other_description").unbind("keypress").bind("keypress",function(){$("#desc_error_msg").hide()})};var b=function(m,l){var n=a.getContainer();$("#cancel_order_form",n).hide();$("#cancel_message",n).show();$("#cancel_message .icon").toggleClass("success",!l).toggleClass("error",l);$("#cancel_message .message").html(m).show();a.show()};var d=function(){var m=$("#enum_description").val();if($.trim(m)!=""){FKART.loader.show("Loading...");a.hide();var l=(c.isOrderLevel)?"/account/cancelOrderNew":"/account/cancelOrderItemNew";ajaxRequest("POST",l,$("#cancel_order_form").serializeObject(),{success:function(o){a.bindEvent("beforeHide",function(){window.location.reload()});FKART.loader.hide();var n="";if(c.ref_req=="Cancel_3"){n="We have successfully received your cancellation request. You will receive a confirmation once the cancellation is completed."}else{n="We have received your cancellation request. The item will be cancelled and refund will be processed according to your preference."}b(n,false);FKART.omni.customEvent("Cancel Order",{events:"event32"})},error:function(n,o){FKART.loader.hide();b("Cancellation request failed. Please get in touch with <a href='/s/contact' title='Contact us'>Flipkart Customer Support</a>.",true)}});return true}else{$("#desc_error_msg").show().html("<p>* Please specify the reason for cancelling this order.</p>");return false}};var g=function(){a=new FKART.ui.Dialog({width:650,body:$("#cancel_order_dialog"),modal:true,header:"Request Cancellation",showFooter:true,showCloseIcon:true,cssClass:"fk-popup cancel_order_dialog"});$("#cancel_order_form").submit(function(){d();return false})};return{init:function(){$(".cancel-order, .cancel:not('.disabled')").click(function(){if(FKART.login.isUserLoggedIn()){var m=$(this);if(!a){g()}FKART.loader.show();var l=(m.hasClass("cancel-order"))?"/account/calculateRefundAmountOrderLevelNew":"/account/calculateRefundAmountItemLevelNew";ajaxRequest("POST",l,{itemId:m.attr("itemId"),orderId:$("[name='orderId']").val()},{success:function(p){FKART.loader.hide();if(p.refund_amount<0){var o="Please <a href='/s/contact' title='Contact us'>Contact Us</a> to cancel this item - as your overall order value drops below Rs 300 and no shipping fee was previously charged.";b(o,true)}else{var n;if(m.hasClass("cancel-order")){n={isEMI:m.attr("isEMI"),ref_req:p.refund_mode,isOrderLevel:true}}else{n={isEMI:m.attr("isEMI"),ref_req:p.refund_mode,isPromo:p.isPromo,otherItemIds:p.otherItemIds,index:m.attr("index"),price:m.attr("price"),itemId:m.attr("itemId"),isOrderLevel:false}}n.elm=m;f(n)}},error:function(n,o){FKART.loader.hide();b("Cancellation request failed. Please get in touch with <a href='/s/contact' title='Contact us'>Flipkart Customer Support</a>.",true)}})}else{if($("#login-signup-dialog #new-usr-msg").length==0){$("#login-signup-dialog").prepend("<div id='new-usr-msg' class='bpadding10 tpadding10'>Please login or register using the same email id which was used to place this order.</div>")}FKART.login.showPopup(null,true)}})}}}();var WalletHelpCarousal=function(a){this.list=$("#"+a.list+" ul");this.pagination=$("#"+a.pagination);this.totalPages=a.totalPages;this.next=$("#"+a.next);this.prev=$("#"+a.prev);this.curPage=1;this.goToPage=function(b){if(b>=1&&b<=this.totalPages){this.curPage=b;this.pagination.find("span").removeClass("sel");$(this.pagination.find("span").get(this.curPage-1)).addClass("sel");var c=$(this.list.find("li").get(this.curPage-1)).offset().left-this.list.offset().left;this.prev.removeClass("ena");this.next.removeClass("ena");if(b>1){this.prev.addClass("ena")}if(b<this.totalPages){this.next.addClass("ena")}this.list.animate({left:-c},500)}};this.init=function(){var b=this;this.next.bind("click",function(){b.goToPage(b.curPage+1)});this.prev.bind("click",function(){b.goToPage(b.curPage-1)});this.pagination.bind("click",function(d){var c=1;$(b.pagination.find("span")).each(function(e,f){if(d.target==f){b.goToPage(c)}c++})})};this.init()};FKART.bindOrderTooltips=function(){$(".orders-table .tooltip-required").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"order-tooltip",align:"b-right",message:b.find(".tooltip-content"),showCloseIcon:false,nearElement:b.find("a"),destroyTimeout:0});b.data("tooltip",a);b.removeClass("tooltip-required")})};FKART.enlargeDialog=function(d,e,f,b){var a=$(d).html();var c=new FKART.ui.Popup({message:a,header:false,nearElement:f,cssClass:b});$(e).bind("click",function(){c.show()})};FKART.omnitureFireEvent=function(d){try{var c=d.omni_data?d.omni_data:undefined;var b=s_gi(s_account);if(d["track-vars"]){b.linkTrackVars=d["track-vars"]}if(d["track-events"]){b.linkTrackEvents=d["track-events"]}if(d.eVar12){b.eVar12=d.eVar12}if(d.eVar13){b.eVar13=d.eVar13}if(d.eVar15){b.eVar15=d.eVar15}if(d.products){b.products=d.products}if(d.events){b.events=d.events}if(d["set-evar18"]){b.eVar18=b.eVar3+":"+b.pageName}if(d["set-evar20"]){if(typeof c!="undefined"&&typeof c.eVar20!="undefined"){b.eVar20=c.eVar20}else{b.eVar20=b.eVar3+":"+b.pageName}}if(d["set-list1"]){b.list1=d["set-list1"];b.linkTrackVars+=",list1"}if(d["set-evar61"]){b.eVar61=d["set-evar61"];b.linkTrackVars+=",eVar61"}if(d["set-evar20-pn"]){b.eVar20=b.pageName}if(d.eVar25){b.eVar25=d.eVar25}if(d["set-evar30"]){if(typeof c!="undefined"&&typeof c.eVar30!="undefined"){b.eVar30=c.eVar30}else{b.eVar30=b.prop11}}if(d["set-evar33"]&&c&&c.eVar33){b.eVar33=c.eVar33;b.linkTrackVars+=",eVar33"}if(d["set-evar37"]&&c&&c.eVar37){b.eVar37=c.eVar37;b.linkTrackVars+=",eVar37"}if(d["set-prop12"]){b.prop12=d["set-prop12"];b.linkTrackVars+=",prop12"}if(d["set-evar42"]&&(!isNaN(c.listingPosition)||c.listingPosition=="onlySeller")){b.eVar42=b.eVar3+"_"+c.listingPosition;b.linkTrackVars+=",eVar42"}if(d["set-evar44"]&&c.listingSeller){b.prop44=b.eVar44=c.listingSeller;b.linkTrackVars+=",eVar44,prop44"}FKART.omnitureSetEventPathing(b);b.tl(true,"o",d.name)}catch(a){}};FKART.omnitureSetEventPathing=function(c){var d={event4:"Registration Completed",event7:"Null Search",event16:"Express Checkout Orders",event17:"Wallet Top-up",event20:"OOS Product View",scOpen:"New Cart",event2:"Product  View",event3:"Registration Started",event5:"Login",event6:"Internal Search",event9:"Song Preview",event10:"Express Checkout",event11:"Wallet Pop-up",event12:"Login Pop-up",event14:"Library Downloads",event15:"Pincheck",event18:"Browse",event19:"Contact Us",event21:"Add to Wishlist",event22:"Compare Products",purchase:"Order",scCheckout:"Checkout",scAdd:"Add to Cart",scRemove:"Remove from Cart"};var b=new RegExp("^("+c.events.replace(/,/g,"|")+")$");for(var a in d){if(b.test(a)){c.prop45=d[a];break}}};function limitChars(b,a,c){var f=b.value;var d=f.length;var e=document.getElementById(c);if(d>a){e.innerHTML="You cannot write more then "+a+" characters!";b.value=f.substr(0,a);return false}else{e.innerHTML="You have "+(a-d)+" characters left.";return true}}var lowValueReco={tracked:false,trackImpression:false,clicked:false,escalateToCart:function(a){lowValueReco.trackImpression=a;if(!lowValueReco.tracked&&lowValueReco.clicked){lowValueReco.trackCall()}},trackCall:function(){if(typeof s_gi=="function"){var a=s_gi(s_account);a.linkTrackVars="prop51,eVar51";a.linkTrackEvents="None";a.prop51=lowValueReco.trackImpression;a.eVar51=lowValueReco.trackImpression;a.tl(this,"o","Cart-Recommendation-Show")}lowValueReco.tracked=true},reset:function(){lowValueReco.tracked=false;lowValueReco.trackImpression=false;lowValueReco.clicked=false}};FKART.XDR=function(d){d=d||{};var n,f,p=d.callback,o="";d.acceptDomain=d.acceptDomain||FKART.secureDomain;function a(){if(d.iframe){f=d.iframe;o=f.name}else{o="iframe_"+(new Date()).getTime();n=document;f=n.createElement("iframe");f.style.visibility="hidden";f.style.width="0";f.style.height="0";f.setAttribute("src","about:blank");n.body.appendChild(f);if(f.contentWindow){f.contentWindow.name=o}}}function c(){if(f.contentWindow&&f.contentWindow.name){var q=f.contentWindow.name;if(q&&q!=o){m(q);if(f&&f.contentWindow.name){f.contentWindow.name=o}}}}function g(q){if(q.origin==d.acceptDomain){m(q.data)}}function b(q){p=q||p;f.onload=c;f.onreadystatechange=function(){try{if(f.readyState=="complete"){c()}}catch(r){}};window.iframe_message=function(r){m(r)};addEvent(window,"message",g)}function e(){p=d.callback;f.onreadystatechange=null;f.onload=null;window.iframe_message=null;removeEvent(window,"message",g);if(d.iframe==null){$(f).remove()}}function m(q){q=$.parseJSON(q);if(p){p(q)}e()}function l(v,t,q){t.type=t.type||"get";a();t.data=t.data||{};t.data.__FK=__FK;if(t.type=="get"){var u=v+"?"+$.param(t.data);f.setAttribute("src",u)}else{var r=$(document.createElement("form"));r.attr("method","post").attr("action",v).attr("target",o);$.each(t.data,function(w,x){var y=$(document.createElement("input"));y.attr("type","hidden").attr("name",w).attr("value",x).appendTo(r)});r.appendTo(document.body).submit();r.remove()}b(q)}return{watch:function(q){a();b(q)},makeRequest:l,stop:e}};FKART.login={initialized:false,redirect:true,referrer:window.location.href,isUserLoggedIn:function(){if(FKART.LOGGEDIN){return true}else{return false}},reset:function(){$("#login_tiny_help_message, #login_tiny_help_message2, #frgt_passwd_suc, #frgt_passwd_div").hide();$('#login_email_id[type="text"], #frgt_paswd_email_id, #login_password').val("");FKART.login.loader.hide()},showPopup:function(a,c,b){if(!FKART.login.initialized){FKART.login.init(a,c)}FKART.login.referrer=a==null?document.URL:a;FKART.login.redirect=c==null?true:c;FKART.login.type=b;FKART.login.reset();$("#signup-dialog").hide();$("#login-dialog").show();FKART.login.dialog.show();$("#login_email_id").focus();return false},hidePopup:function(){FKART.login.dialog.hide()},keyEventForgetPass:function(b){b=b||window.event;var a=b.keyCode||b.which;if(a==13){FKART.login.forgotPassword()}},validateFields:function(){if(!isEmailValid($("#login_email_id").val())){$("#login_tiny_help_message").text("Please enter a valid email id.").show();return false}if($("#login_password").val()==""){$("#login_tiny_help_message").text("Please enter a password.").show();return false}return true},init:function(c,e){if(!c){c=document.URL}e=e==null?true:e;FKART.login.referrer=c;var b=FKART.login,d=FKART.login.signup;b.redirect=e;var a=FKART.login.isUserLoggedIn()?"dialog-login-signup loggedin":"dialog-login-signup";b.dialog=new FKART.ui.Dialog({body:$("#login-signup-dialog"),width:600,cssClass:a});b.initialized=true;b.loader=new FKART.ui.Loader({type:"inline",renderTo:"#login-loader",size:"small"});b.signup.loader=new FKART.ui.Loader({type:"inline",renderTo:"#signup-loader",size:"small"});b.loginXDR=new FKART.XDR({iframe:document.getElementById("login-signup-iframe")});$(".login-button").click(function(){b.showPopup(FKART.login.referrer,FKART.login.redirect,FKART.login.type)});$(".signup-button").click(function(){d.showPopup(FKART.login.referrer,FKART.login.redirect,FKART.login.type)});$("#login-form").bind("submit",function(f){if(!b.validateFields()){f.preventDefault();return false}$("#login_tiny_help_message").hide();b.loader.show();b.loginXDR.watch(function(g){if(g.status==="ok"){FKART.login.loginUser(g.email_id,FKART.login.referrer)}else{b.loader.hide();$("#login_tiny_help_message").text(g.error_msg).show();if(g.showForgotPasswordPopup){FKART.login.showForgotPassword()}}})});$("#login-dialog .frgt-pswd").click(FKART.login.showForgotPassword);$("#signup-form").bind("submit",d.onFormSubmit);$(document).trigger("login-initialized");b.dialog.bindEvent("beforeHide",function(){FKART.login.loader.hide()})},loginUser:function(b,a){$(document).trigger("user_loggedin",[b]);if(FKART.login.redirect&&FKART.LOGGEDIN!=true){window.top.location=a.replace(/[#].*/,"")}else{FKART.login.hidePopup()}FKART.LOGGEDIN=true},showForgotPassword:function(){$("#frgt_paswd_email_id").val($("#login_email_id").val()).focus();$("#frgt_passwd_suc, #login_tiny_help_message2").hide();$("#frgt_passwd_div").toggle("slow",function(){FKART.login.dialog.reposition()})},forgotPassword:function(){var a=$("#frgt_paswd_email_id").val();if(!a||!isEmailValid(a)){$("#login_tiny_help_message2").text("Please enter a valid Email Address.").show();return}ajaxRequest("POST","/account/a_forgotPassword",{email:a},{success:function(b){if(b.isRegistered==1){$("#frgt_passwd_div").toggle("slow",function(){$("#frgt_passwd_suc").text("An email is sent to "+a+". Please check your email.").addClass("fk-suc-msg").show()})}if(b.isRegistered==2){$("#frgt_passwd_div").toggle("slow",function(){$("#frgt_passwd_suc").text("We have sent an email to your new email Id"+b.emailId+". Please check your email.").addClass("fk-suc-msg").show()})}else{$("#login_tiny_help_message2").text("No account found with that email address. Please try again.").show()}},failure:function(c,b){$("#login_tiny_help_message2").text(c).show()}})},signup:{validateFields:function(){if(!isEmailValid($("#signup-email").val())){$("#signup-email").addClass("inp-err");$("#signup_tiny_help_message").text("Please enter a valid email id.").show();return false}if($("#signup-password").val()==""){$("#signup-password").addClass("inp-err");$("#signup_tiny_help_message").text("Please enter a Password.").show();return false}if($("#signup-password").val().length<4){$("#signup-password").addClass("inp-err");$("#signup_tiny_help_message").text("Password should be minimum 4 characters long.").show();return false}if($("#signup-repeat-password").val()==""){$("#signup-repeat-password").addClass("inp-err");$("#signup_tiny_help_message").text("Please repeat the Password").show();return false}if($("#signup-repeat-password").val()!=$("#signup-password").val()){$("#signup-repeat-password").addClass("inp-err");$("#signup_tiny_help_message").text("Passwords don't match").show();return false}return true},reset:function(){$("#signup-email, #signup-password, #signup-repeat-password").val("");$("#signup_tiny_help_message").text("").hide()},onFormSubmit:function(a){var b=FKART.login.signup;if(!b.validateFields()){a.preventDefault();return false}FKART.login.loader.hide();b.loader.show();$("#signup_tiny_help_message").hide();FKART.login.loginXDR.watch(function(c){if(c.status==="ok"){$(document).trigger("user_signedup",[c]);FKART.login.loginUser(c.email_id,FKART.login.referrer)}else{b.loader.hide();$("#signup_tiny_help_message").text(c.msg).show()}})},showPopup:function(a){if(!FKART.login.initialized){FKART.login.init(a)}FKART.login.signup.reset();$("#login-dialog").hide();$("#signup-dialog").show();FKART.login.dialog.show();$("#signup-email").focus()}}};addOnload(function(){$(".login-required").live("click",function(c){if(FKART.login.isUserLoggedIn()){return true}var a=$(this).attr("href"),d=$(this).attr("redirect"),b=$(this).attr("data-login-type");d=(typeof d!="undefined"&&d=="false")?false:true;if(a&&!a.match(/^(javascript)|(#)|(\/account\/login)/)){FKART.login.showPopup(a,d,b)}else{FKART.login.showPopup(null,d,b)}c.stopPropagation();return false});$(".signup-link").live("click",function(){if(FKART.login.isUserLoggedIn()){return true}FKART.login.signup.showPopup();return false})});addOnload(function(){$(document).bind("login-initialized",function(){var a=FKART.login.dialog;$("#fk-wallet-login-message").remove().prependTo($("#login-signup-dialog"));a.bindEvent("beforeShow",function(){if(FKART.login.referrer.match(/\/account\/wallet/)||FKART.login.type==="wallet"){$("#fk-wallet-login-message").show();if(typeof FKART.omnitureFireEvent!="undefined"){FKART.omnitureFireEvent({"track-events":"event12",events:"event12",name:"login popup"})}}else{$("#fk-wallet-login-message").hide()}})})});FKART.locationHash=(function(){var c={};var d=false;function n(){e();d=true}function l(o,p){c[o]=p;b()}function m(o){if(!d){n()}return c[o]}function g(o){if(!isNaN(o)){return Number(o)}if(o=="true"){return true}if(o=="false"){return false}return o}function e(){if((window.location.hash).indexOf("#")>-1){var q=window.location.hash.substring(1).split(";");for(var o in q){var p=q[o].split("=");if(p.length==2){c[unescape(p[0])]=g(unescape(p[1]))}}}}function b(){var p=[];for(var o in c){p.push(escape(o)+"="+escape(c[o]))}window.location.hash="#"+p.join(";")}function a(o){delete c[o];b()}function f(){var p={};for(var o in c){if(c.hasOwnProperty(o)){p[o]=c[o]}}return p}return{get:function(o){return m(o)},set:function(o,p){return l(o,p)},del:function(o){return a(o)},getAll:function(){return f()}}})();FKART.ui={};FKART.ui.goTop=(function(){var g=null,c=false;function l(m){g=$(document.createElement("div")).addClass("fk-ui-goTop").addClass("fk-hidden").appendTo("body");if(m){g.addClass(m)}g.html($("#go-top").html());$(window).scroll(a);g.click(f);$("body").bind("onScrolledToView",function(){g.fadeOut("fast");c=false})}function f(){c=true;$("body").scrollToView({scrollTo:0})}function b(){g.fadeIn("fast")}function e(){g.fadeOut("fast")}function a(){var m=$(window).height();var n=$(window).scrollTop();if(this.blocked){return}if(m<n){b()}else{e()}}function d(){g.hide().remove();$(window).unbind("scroll",a)}return{init:l,show:b,hide:e,toTop:f,getHandle:function(){return g},destroy:d}}());FKART.ui.Tooltip=function(c){c.showCloseIcon=(typeof c.showCloseIcon=="undefined")?true:c.showCloseIcon;c.extraHoverArea=c.extraHoverArea||false;c.message=c.message||$(c.nearElement).attr("data-tooltip-title");c.inside=c.inside||document.body;var f=false;var q=$(document.createElement("div")).addClass("fk-ui-tooltip");var o=$(c.inside);var p=this;if(c.cssClass){q.addClass(c.cssClass)}c.align=c.align||"middle";q.addClass(c.align);if(c.ajaxUrl){c.message=c.message||"Loading..."}if(c.showCloseIcon){var b=$(document.createElement("span")).addClass("fk-ui-tooltip-close").appendTo(q);b.click(function(){q.hide()})}var m=$(document.createElement("span")).addClass("fk-ui-tooltip-arrow").appendTo(q);if(c.extraHoverArea){var d=$($dc("hover-area")).appendTo(q)}var a;if(typeof c.message==="string"){a=$(document.createElement("div")).addClass("fk-ui-tooltip-content").html(c.message).appendTo(q)}else{$(c.message).data("parent",$(c.message).parent());a=$(c.message).remove().appendTo(q).addClass("fk-ui-tooltip-content");a.css("display","block")}q.appendTo(o);var r=$(c.nearElement);function g(){if(!f){a.load(c.ajaxUrl,function(t,u){n();if(u==="success"){f=true;$(p).trigger("ajax_loaded",[t,u])}})}}function n(B){if(typeof B!="undefined"){r=$(B)}var z={},t=r.outerWidth(),v=r.outerHeight();z.top=r.offset().top-o.offset().top;z.left=r.offset().left-o.offset().left;switch(c.align){case"middle":case"b-middle":q.css({left:z.left+t/2-q.outerWidth()/2,top:z.top+v+3});break;case"left":case"b-left":q.css({left:z.left,top:z.top+v+5});break;case"right":case"b-right":q.css({right:$(window).width()-r.width()-z.left-25,top:z.top+v+5});break;case"l-middle":q.css({right:$(window).width()-z.left+5,top:z.top+v/2-q.outerHeight()/2});break;case"r-top":q.css({left:z.left+t+5,top:z.top});var u=$(q.find(".fk-ui-tooltip-arrow")[0]);u.css({top:v/2-u.height()/2});break;case"top":q.css({left:z.left,top:z.top-v/2-q.outerHeight()/2-5});break;case"t-middle":q.css({left:z.left+t/2-q.outerWidth()/2,top:z.top-q.outerHeight()-3});break;case"t-left":q.css({left:z.left,top:z.top-q.outerHeight()-3});break;case"r-middle":q.css({left:z.left+t+5,top:z.top+v/2-q.outerHeight()/2});break;case"auto":var A=$(window).width()-(z.left+t+q.outerWidth()+5);var y=z.top+v/2-q.outerHeight()/2;q.removeClass("r-middle");q.removeClass("l-middle");var w="r-middle";if(A<0){A=$(window).width()-(z.left)+5;w="l-middle"}var x="45%";if(y<$(window).scrollTop()){y=$(window).scrollTop();x=(v-$(window).scrollTop()+z.top)/2-14}else{if(y+q.outerHeight()>$(window).scrollTop()+$(window).height()){y=$(window).scrollTop()+$(window).height()-q.outerHeight();x=z.top-y+(y+q.outerHeight()-z.top)/2-14}}q.css({right:A,top:y});q.find(".fk-ui-tooltip-arrow").css({top:x});q.addClass(w);break}}function l(t,u){$(p).bind(t,u)}function e(t,u){$(p).unbind(t,u)}return{hide:function(){q.fadeOut(100)},show:function(t){n(t);q.fadeIn(100);if(c.ajaxUrl){g()}},updateContent:function(t){a.html(t)},getContainer:function(){return q},destroy:function(){var t=q.find(".fk-ui-tooltip-content");if(t.data("parent")){t.remove().hide().data("parent").append(t)}q.remove()},bindEvent:l,unbindEvent:e}};addOnload(function(){$("a[rel='tooltip']").each(function(){var c=$(this);var d=c.attr("data-msg");var a=c.attr("data-class");var b=new FKART.ui.Tooltip({message:d,nearElement:c,cssClass:a});c.click(function(){b.show()})})});FKART.ui.Popup=function(e){e.inside=e.inside||document.body;var n=$(e.inside);var o=$(document.createElement("div")).addClass("fk-ui-popup");var d=$(document.createElement("div")).addClass("fk-ui-popup-container").appendTo(o);if(e.cssClass){o.addClass(e.cssClass)}var b;if(!e.hideHeader){b=$(document.createElement("div")).addClass("fk-ui-popup-header").html(e.header)}var f=e.hideHeader?d:b;var c=$(document.createElement("button")).addClass("fk-ui-popup-closebutton").appendTo(f);c.click(function(){a.hide()});if(!e.hideHeader){b.appendTo(d)}if(e.message){if(typeof(e.message)=="string"){$(document.createElement("div")).addClass("fk-ui-popup-message").html(e.message).appendTo(d)}else{$(e.message).data("parent",$(e.message).parent());$(e.message).remove().addClass("fk-ui-popup-message").appendTo(d).css({display:"block"})}}if(e.width){o.css("width",e.width)}o.appendTo(e.inside);var p=$(e.nearElement);function m(){var r={};r.top=p.offset().top-n.offset().top;r.left=p.offset().left-n.offset().left;var q={};q.left=r.left+p.outerWidth()/2-o.outerWidth()/2;q.top=r.top+p.outerHeight()+3;o.css({left:q.left,top:q.top});if(e.repositionCallback){e.repositionCallback.call(o,q)}}function l(r){var q=$(r.target);if(!q.parents().is(".fk-ui-popup")&&!q.is(p)){a.hide()}}function g(q){if(q.keyCode==27){a.hide()}}var a={show:function(q){if(q){p=$(q)}m();o.show().scrollToView({edge:30});$(window).keydown(g);setTimeout(function(){$(document).click(l)},100)},changeContent:function(q){$(".fk-ui-popup-message",o).html(q)},changeNearElement:function(q){p=$(q);m()},repositionCallback:function(q){e.repositionCallback=q},hide:function(){o.hide();$(document).unbind("click",l);$(window).unbind("keydown",g)},getContainer:function(){return o}};return a};FKART.ui.Loader=function(c){if(this instanceof FKART.ui.Loader){var l=(c&&c.hasOwnProperty("msg"))?c.msg:null;var f=(c&&c.hasOwnProperty("modal"))?c.modal:false;var d=(c&&c.hasOwnProperty("size"))?c.size:"large";var g=(c&&c.hasOwnProperty("renderTo"))?$(c.renderTo):[];var b=(c&&c.hasOwnProperty("cssCls"))?c.cssCls:null;var e=(c&&c.hasOwnProperty("type"))?c.type:"positioned";this.count=0;if(e!="inline"){this.loaderObj=$(".loader:first").clone().appendTo("body");loaderBody=this.loaderObj.find(".loader-body");overlay=this.loaderObj.find(".loader-overlay");this.setMsg(l);if(d!="large"){loaderBody.addClass(d.toLowerCase())}overlay.toggleClass("loader-elem-overlay",(f&&g.length>0));overlay.toggle(f);if(g.length>0){this.alignLoader=function(){var o=g.offset();var n=parseInt(o.top+((g.outerHeight())/2)-((loaderBody.outerHeight())/2),10);var m=parseInt(o.left+((g.outerWidth())/2)-((loaderBody.outerWidth())/2),10);loaderBody.css({position:"absolute",top:n,left:m});if(f){overlay.css({position:"absolute",height:g.outerHeight()+"px",width:g.outerWidth()+"px",top:o.top+"px",left:o.left+"px"})}}}}else{var a;switch(d){case"small":a="/images/ajax-loader.gif";break;case"medium":a="/images/ajax-loader-transparent.gif";break;default:a="/images/ajax-loader_new.gif"}this.loaderObj=$(document.createElement("img")).attr("src",a).addClass("fk-ui-loader");if(g.length>0){this.loaderObj.appendTo(g)}}if(b!=null){this.loaderObj.addClass(b)}}else{return new FKART.ui.Loader(c)}};FKART.ui.Loader.prototype.show=function(a){this.count++;this.setMsg(a);this.loaderObj.show();if(typeof this.alignLoader!="undefined"){this.alignLoader()}};FKART.ui.Loader.prototype.hide=function(){if(this.count>0){this.count--}if(this.count==0){this.loaderObj.hide()}};FKART.ui.Loader.prototype.setMsg=function(a){if(typeof a=="string"){this.loaderObj.find(".msg").html(a)}};addOnload(function(){window.FKART.loader=new FKART.ui.Loader({modal:true,cssCls:"global-loader"})});FKART.ui.Alert=FKART.Alert=function(b){this.body=b.body;this.width=b.width;this.head=b.head?b.head:"";this.buttons=b.buttons?b.buttons:null;this.destroyOnClose=b.destroy_on_close?b.destroy_on_close:false;this.id=b.id?b.id:"alert_"+(new Date).getTime();this.html;var c=null;var a=this;this.keyPress=function(f){var d=(f.keyCode?f.keyCode:f.which);if(d===27){a.close()}};this.show=function(){$(document).bind("keyup",this.keyPress);this.html.show();c.show()};this.close=function(){$(document).unbind("keyup",this.keyPress);if(this.destroyOnClose){this.html.remove()}else{this.html.hide()}c.hide()};this.init=function(){this.html='<div id="'+this.id+'" class="fk-alrt" style="width: '+this.width+'px;">';if(this.head){this.html+='<div class="hd">'+this.head+"</div>"}this.html+='<div class="bd">'+this.body+"</div>";this.html+='<div class="fd">';if(this.buttons){for(var g in this.buttons){this.html+='<span id="'+g+'" class="fk-but2">'+this.buttons[g]+"</span>"}}this.html+='<span class="cls lmargin10">Close window</span>';this.html+="</div>";this.html+="</div>";this.html=$(this.html);$("body").append(this.html);var f=($(window).height()-this.html.height())/2+$(window).scrollTop();var e=($(window).width()-this.html.width())/2;this.html.css({top:f+"px",left:e+"px"});if(!$(".fk-shld").length){c=$('<div class="fk-shld"></div>');$("body").append(c)}else{c=$(".fk-shld");c.show()}var d=$("body").height();if(d<$(window).height()){d=$(window).height()}c.height(d);c.width($("body").width());c.one("click",function(){a.close()});$(".cls",this.html).click(function(){a.close()});this.show()};this.init();return this};FKART.ui.Dialog=function(v){v.width=v.width||"50%";v.height=v.height||"auto";v.showFooter=v.showFooter!=null?v.showFooter:true;v.showCloseIcon=v.showCloseIcon!=null?v.showCloseIcon:true;v.modal=v.modal!=null?v.modal:true;v.header=v.header||false;var a=false;var r=$(document.createElement("div")).addClass("fk-ui-dialog");if(v.cssClass){r.addClass(v.cssClass)}var m=$(document.createElement("div"));if(v.modal){var n=$(document.createElement("div"));n.addClass("shield").appendTo(r);if($.browser.msie&&$.browser.version=="6.0"){n.css("height",$(document).height()+"px")}n.bind("click",function(){q()})}m.addClass("window alpha30").appendTo(r);m.css({width:v.width,height:v.height});var e=$(document.createElement("div"));e.addClass("content").appendTo(m);if(v.header){var w=$($dc("dialog-header"));if(typeof v.header!="string"){$(v.header).remove().appendTo(w).css({display:"block"})}else{w.text(v.header)}w.appendTo(e)}var p=$($dc("dialog-body"));if(typeof v.body!="string"){$(v.body).remove().appendTo(p).css({display:"block"})}else{p.append(v.body)}p.appendTo(e);if(v.showFooter){var u=$(document.createElement("div")).addClass("dialog-footer line").appendTo(m);u.append($(document.createElement("div")).addClass("close-button close").text("Close window"));u.append($(document.createElement("div")).addClass("fclear"))}if(v.showCloseIcon){var o=$(document.createElement("span")).addClass("close-icon close");if(v.header){o.addClass("header-close-icon")}o.appendTo(m)}r.appendTo("body");function t(){var y=($(window).height()-m.outerHeight())/2;var x=($(window).width()-m.outerWidth())/2;y=y>0?y:5;x=x>0?x:5;if(m.outerHeight()>$(window).height()||m.outerWidth()>$(window).width()){m.addClass("window-absolute");y=y+$(window).scrollTop()}else{m.removeClass("window-absolute")}m.css({top:y+"px",left:x+"px"})}var g=throttle(t,100);r.on("click",".close",function(){q()});function f(y){var x=(y.keyCode?y.keyCode:y.which);if(x===27){q()}}function c(x){r.find(".dialog-header").html(x)}function b(x){m.css("width",x);t()}function d(x){m.css("height",x);t()}function l(){r.trigger("beforeShow");r.css({visibility:"hidden",display:"block"});t();r.css("visibility","visible");a=true;r.trigger("afterShow");$(document).bind("keyup",f);$(window).bind("resize",g)}function q(){r.trigger("beforeHide");r.css("display","none");a=false;r.trigger("afterHide");$(document).unbind("keyup",f);$(window).unbind("resize",g)}return{show:l,hide:q,updateHeader:c,setWidth:b,setHeight:d,bindEvent:function(x,y){r.bind(x,y)},unbindEvent:function(x,y){r.unbind(x,y)},isOpen:function(){return a},getContainer:function(){return r},reposition:t,destroy:function(){q();r.remove()}}};(function(a){a.fn.delayedHover=function(d,b,c){c=c||200;return this.each(function(){var f=a(this);var e=null;f.bind("mouseenter",function(g){e=true;setTimeout(function(){if(e==true){d.call(f,g)}},c)});f.bind("mouseleave",function(g){e=false;b.call(f,g)})})}})(jQuery);(function(b){function a(e,d){var c=d.id;if(e!=null){b(e).removeClass("selected");b("#"+e.id+"-content").hide()}b(d).addClass("selected");b("#"+d.id+"-content").show()}b.fn.tabs=function(c){return this.each(function(){var m=b(this);var l=b.extend({clickDisabled:true},c);var g=null;if(m.find(".tab.selected").length>0){g=m.find(".tab.selected")[0]}var e=this;var d={changeTab:function(n){if(typeof n==="string"){n=document.getElementById(n)}f(n)},getCurrentTab:function(){return g},getContainer:function(){return e}};m.data("tabs_instance",d);m.find(".tab").click(function(){f(this);if(l.clickDisabled){return false}});function f(n){a(g,n);b(e).trigger("tabChange",[n]);g=n}})}})(jQuery);FKART.ui.HoverTooltip=function(l){l.extraHoverArea=l.extraHoverArea==null?true:l.extraHoverArea;l.attachTo=l.attachTo||l.nearElement;l.destroyTimeout=l.destroyTimeout==null?5000:l.destroyTimeout;var e,g,b;$(l.attachTo).delayedHover(function(){if(b){clearTimeout(b)}if(typeof e==="undefined"||e===null){a()}e.show(this)},function(m){if($(m.relatedTarget).parents().filter(g).length==1){return}if(e){e.hide()}f()});function c(){$(g).delayedHover(function(){e.show()},function(m){if($(m.relatedTarget).parents().filter(l.attachTo).length==1){return}if(e){e.hide()}f()})}function f(){if(b){clearTimeout(b)}if(l.destroyTimeout>0){b=setTimeout(function(){if(e){e.destroy();e=null}},l.destroyTimeout)}}function a(){e=new FKART.ui.Tooltip(l);g=e.getContainer();c()}function d(){return e}return{getInstance:d}};
/*!
 * jQuery serializeObject - v0.2 - 1/20/2010
 * http://benalman.com/projects/jquery-misc-plugins/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(a,b){a.fn.serializeObject=function(){var c={};a.each(this.serializeArray(),function(e,f){var g=f.name,d=f.value;c[g]=c[g]===b?d:a.isArray(c[g])?c[g].concat(d):[c[g],d]});return c}})(jQuery);(function(a){a.fn.collapser=function(f){var e={toggle:function b(l){a(l).toggleClass("collapsed");this.showHtml(l)},show:function c(l){if(a(l).is(".collapsed")){a(l).removeClass("collapsed")}this.showHtml(l)},hide:function d(l){if(!a(l).is(".collapsed")){a(l).addClass("collapsed")}this.showHtml(l)},showHtml:function(l){if(a(l).is(".collapsed")&&f.indicatorHtml){a(l).find(".fk-collapser").html("+")}else{if(!a(l).is(".collapsed")&&f.indicatorHtml){a(l).find(".fk-collapser").html("-")}}}};function g(m){var l=a(m).find(".fk-collapser");a(l).click(function(){e.toggle(m)})}return this.each(function(){var l=a(this);if(l.data("panel-binded")==null){g(this);l.data("panel-binded",true)}if(f.action!=null){e[f.action](l)}})}})(jQuery);(function(a){a.truncate=function(c,b){if(typeof c=="string"&&c.length>b){return c.substr(0,b)+"..."}return c}})(jQuery);FKART.ui.Placeholder=new function(){var a=("placeholder" in document.createElement("input"));this.init=function(b){if((!a||b)){$("input[placeholder],textarea[placeholder]").not(".placeholder-added").focus(function(){var c=$(this);if(c.val()==c.attr("placeholder")){c.val("");c.removeClass("placeholder")}}).blur(function(){var c=$(this);if(c.val()==""||c.val()==c.attr("placeholder")){c.addClass("placeholder");c.val(c.attr("placeholder"))}}).blur().addClass("placeholder-added").closest("form").submit(function(){$(this).find("input[placeholder],textarea[placeholder]").each(function(){if($(this).defaultVal()==""){var c=$(this).val("");setTimeout(function(){c.blur()},200)}})})}}};(function(a){a.fn.defaultVal=function(){var b=function(c){c=a(c);return(c.attr("placeholder")!=undefined&&(a.trim(c.val()).replace(/\r/g,"")==c.attr("placeholder").replace(/\r/g,"")))};return(b(this))?"":a(this).val()}})(jQuery);FKART.ui.Maxlength=function(){$("textarea[maxlength]").keyup(function(d){var c=$(this);var b=c.attr("maxlength");var f=c.val();var e=f.length;var a=$("#"+c.attr("for"));if(e>b){if(a.length>0){a.html("You cannot write more than "+b+" characters!")}c.val(f.substr(0,b));return false}else{if(a.length>0){a.html("You have "+(b-e)+" characters left.")}return true}}).keydown(function(c){var a=$(this).attr("maxlength");var b=c?c.which:window.event.keyCode;if(this.value.length>=a){if(b>46&&b<112||b>123&&b!=17){return false}}})};addOnload(function(){FKART.ui.Placeholder.init();FKART.ui.Maxlength()});FKART.ui.CarouselLoader=function(o){var m;var d=$.extend({productsPerScroll:1,noOfVisibleItems:1,itemsPerSlide:1,showLoader:false,typeOfRequest:"POST",containerCSS:""},o);var n=function(){if(d.showLoader){new FKART.ui.Loader({type:"inline",renderTo:d.carouselContainer,size:"large",cssCls:"recom-loader"}).show()}var p=$.extend({},d.requestParams,{itemsPerSlide:d.itemsPerSlide});$.ajax({url:d.url,type:d.typeOfRequest,data:p,cache:false,dataType:"html",success:g,error:e})};function e(){$(d.carouselContainer).hide();$(d.carouselContainer).trigger("response-failed")}function l(p){$(p).closest(".carousel-parent").show()}function a(){var p=$(d.carouselContainer);p.hide();p.trigger("response-failed")}function g(q){if(strip(q)!=""){var r=$(d.carouselContainer);if(d.containerCSS!=""){r.addClass(d.containerCSS)}var p=d.title||"";r.html(q);l(r);if(d.hideTitle){r.find(".carousel-title").remove()}else{r.find(".carousel-title").html(p)}b()}else{a()}}var b=function(){m=$(d.carouselContainer).find(".fk-carousel");d.carouselSize=parseInt(m.attr("data-carouselSize"));if(typeof($.jcarousel)=="undefined"){require_module.js("carousel",c)}else{c()}};function f(){if(d.carouselSize>d.noOfVisibleItems){return{buttonNextHTML:"<input type='button' />",buttonPrevHTML:"<input type='button' />"}}return}function c(){var p=f();var q=$.extend({scroll:d.productsPerScroll,visible:d.noOfVisibleItems,size:d.carouselSize},p);$(m).is(":visible")&&$(m).jcarousel(q)}return{initAjaxCall:n,initCarousel:b}};FKART.ui.AjaxModalDialog=function(q){var c,o,d=$.extend({},q);var m={url:d.url,dataType:"json",success:function(p){if(p.status=="ok"&&p.status!=null){c.getContainer().find(".dialog-body")[0].innerHTML=p.data.html;FKART.utils.runWindowOnload();FKART.utils.runOnload()}else{e();new FKART.Alert({body:p.msg,destroy_on_close:true,width:500})}},error:e};var l=function(){c=new FKART.ui.Dialog(d);c.bindEvent("beforeShow",function(){n(c)})};l();function n(p){c.getContainer().find(".dialog-body").html(getLoader())}function a(p){o=$.ajax($.extend(m,p));return o}function e(){c.hide()}function g(p){c.show();return a(p)}var f=function(){};f.prototype=c;var b=new f();b.show=g;return b};FKART.widgets={};FKART.widgets.PincodeChecker=function(w){var r=$(w.container).find(".pincode-checker");var d,o=this,f,c=r.find(".pincode-textbox"),b=r.find(".pincode-errorMsg"),q="Check delivery information";w.tooltipConfig=w.tooltipConfig||{};w.disableTooltip=w.disableTooltip||false;function u(){r.find(".pincode-checker-form").submit(function(){if(!n()){c.focus();b.html("Please enter a valid pincode.");return false}c.trigger("blur");g();return false});r.find(".pincodeChangeBtn").click(function(){w&&w.widgetVisibleAgain&&w.widgetVisibleAgain()});var z={nearElement:c,cssClass:"pincode-checker yellow",message:q,align:"t-middle",showCloseIcon:false};var y=$.extend({},z,w.tooltipConfig);d=new FKART.ui.Tooltip(y);c.focus(function(){if(!w.disableTooltip){d.show()}}).blur(function(){d.hide()})}function a(y){w.disableTooltip=y||false}function n(){var y=c.val();return/[1-9][0-9]{5}/.test(y)?true:false}function g(){var y=c.val();b.hide();l(y);f&&f(y)}function l(y){r.find(".pincode-text").text(y);r.find(".panel-form").hide();r.find(".panel-static").show()}function x(){r.find(".panel-form").show();r.find(".panel-static").hide()}function m(y){f=y}function e(){return r.find(".pincode-textbox").val()}function p(){x();d.updateContent(q);r.find(".pincode-textbox").focus();if(!w.disableTooltip){d.show()}}function t(){c.blur()}function v(){d.destroy()}u();return{change:m,getPincode:e,focus:p,destroy:v,blur:t,disableTooltip:a,showStaticPanel:l}};FKART.widgets.QuickView=function(g){var y=$.extend({productClass:"quickview-required",enableNavigation:false},g);var r=function(){var B=new FKART.ui.Dialog({width:850,height:555,showFooter:false,cssClass:"quickview-dialog"});B.bindEvent("beforeShow",function(){l(B);y.enableNavigation&&$(document).unbind("keydown.QW").bind("keydown.QW",function(C){if(a.isOpen()){switch(C.which){case 37:e(m);break;case 39:f(m);break}}})});y.enableNavigation&&B.bindEvent("beforeHide",function(){$(document).unbind("keydown.QW")});return B};var a=r(),v,q,c={},m,p={};function l(){v&&v.attr("disabled","disabled");q&&q.attr("disabled","disabled");a.getContainer().find(".dialog-body").html(getLoader())}var d=function(){$("."+y.productClass).each(function(){var C=$(this);var B=C.find(".quickview-btn");C.delayedHover(function(){B.show()},function(){B.hide()},100);B.click(function(D){D.stopPropagation();p.prop18="";x($(this).attr("data-pid"))});C.removeClass(y.productClass)})};function u(){if(!y.enableNavigation){return}c.next&&c.next(m)&&v.removeAttr("disabled");c.prev&&c.prev(m)&&q.removeAttr("disabled")}function f(){c.next&&c.next(m)&&(p.prop18="next")&&x(c.next(m))}function e(){c.prev&&c.prev(m)&&(p.prop18="previous")&&x(c.prev(m))}var o=function(){$(".next-nav-btn").bind("click",f);$(".prev-nav-btn").bind("click",e)};var w=function(){d();if(y.enableNavigation){v=$('<input type="button"/>').addClass("next-nav-btn");q=$('<input type="button"/>').addClass("prev-nav-btn");a.getContainer().find(".content").append(v).append(q);o()}$(a.getContainer()).on("click",".paletteImage a",function(B){x($(this).attr("pid"));return false});$(a.getContainer()).on("click",".section-boxes a",function(B){x($(this).attr("pid"),{select_size:$(this).parent().find(".isAjax").attr("value")});return false});$(a.getContainer()).on("change",".attrDropDown select[name='dropDown']",function(B){x($("option:selected",this).attr("pid"));return false})};var n=false;function z(B,E){var C="";var D=s.getQueryParam("q");if(s.pageName.match(/^search*/gi)||(typeof D!="undefined"&&$.trim(D)!="")){if(!n){C+=",event54";n=true}}E.omnitureData.events+=C;E.omnitureData.prop18=p.prop18;FKART.omni.customEvent("Product Quick Views",E.omnitureData)}function A(B){$.ajax({url:"/xhr/showQuickView",dataType:"json",data:B,success:function(C){if(C.status=="ok"&&C.status!=null){a.getContainer().find(".dialog-body")[0].innerHTML=C.data.html;FKART.utils.runWindowOnload();FKART.utils.runOnload();a.setHeight("auto");y.enableNavigation&&u();z(B.pid,C.data)}else{b();new FKART.Alert({body:C.msg,destroy_on_close:true,width:500})}},error:b})}function t(B,E){var C=s.getQueryParam("q");var D={pid:B};if(typeof C!="undefined"&&$.trim(C)!=""){D.query=C}$.extend(D,E);A(D)}function x(B,C){$(window.QW).trigger("beforeShow",[B]);a.show();m=B;t(B,C)}function b(){a.hide()}return{init:w,dialog:a,show:x,hide:b,bindEvents:d,fetchData:A,showLoader:l,getNext_cb:function(B){c.next=B},getPrev_cb:function(B){c.prev=B}}};FKART.ensureLogin=function(a){return function(){if(FKART.isUserLoggedIn()){a.apply(this,arguments)}}};FKART.isUserLoggedIn=function(){return FKART.LOGGEDIN||FKART.USER_LOGGED_IN};FKART.ugc={};FKART.ugc.review={};FKART.ugc.review.reportAbuse=function(a,c,b){$.post("/ugc-ajax/reportAbuseReview",{review_id:a},function(d){if(d.status=="ok"&&c){c(d)}else{if(b){b(d)}}},"json")};FKART.ugc.review.deleteReview=function(a,c,b){$.post("/ugc-ajax/deleteReview",{review_id:a},function(d){if(d.status=="ok"){if(c){c(d)}}else{if(b){b(d)}}},"json")};FKART.ugc.review.updateCertifiedBuyerBadge=function(b,a,d,e,c){$.post("/ugc-ajax/updateCertifiedBuyerBadge",{review_id:b,property_id:a,showCertifiedBuyer:d?1:0},function(f){if(f.status=="ok"){if(e){e(f)}}else{if(c){c(f)}}},"json")};FKART.ugc.review.rateReview=function(b,a,d,c){$.post("/ugc-ajax/rateReview",{review_id:b,rating:a},function(e){if(e.status=="ok"&&d){d(e)}else{if(c){c(e)}}},"json")};FKART.ugc.rating={};FKART.ugc.getUserWidget=function(b,c,a){$.getJSON("/ugc-ajax/getUserWidget",{profile_name:b},function(d){if(d.status=="ok"&&c){c(d)}else{if(a){a(d)}}})};FKART.ugc.rating.submitRating=function(a,b,d,c){$.post("/ugc-ajax/submitRating",{property_id:a,rating:b},function(e){if(e.status=="ok"&&d){d(e)}else{if(c){c(e)}}},"json")};FKART.ugc.updateOmnitureFirstTime=function(c,a,b){if(c==0){FKART.omni.customEvent(a,{events:b})}};FKART.ugc.ui={};FKART.ugc.ui.writeReviewPageInit=function(a){$(".fk-give-star a").click(function(){var b=parseInt($(this).text());b=b>5?5:b;b=b<1?1:b;$("#review_rating_error_message").hide();$(".fk-user-rating .fk-give-star .user-rating").animate({width:(b*20)+"%"},"fast");$("#rating").val(b)})};FKART.ugc.ui.editableRatingsInit=function(a){var c=false;$(".fk-give-star a").live("click",FKART.ensureLogin(function(){var d=parseInt($(this).text()),g,m;d=d>5?5:d;d=d<1?1:d;var e=$(this);var f=e.closest(".digital-item");var l=e.closest(".fk-give-star").attr("data-ratings-location");if(f.length!=0){c=true;g=f.attr("data-pid");m=f.attr("data-item-name")}if(typeof g=="undefined"&&typeof a!="undefined"){g=a}FKART.ugc.rating.submitRating(g,d,function(o){$(".fk-user-rating .message").text("You have rated this product");$(".fk-give-star").attr("stars",d);if(c){b(m,d);$(".digital-item[data-pid="+g+"] .user-rating").css("width",(d*20)+"%").addClass("user-rated");e.closest(".fk-give-star").find(".user-rating").animate({width:(d*20)+"%"},"fast").addClass("user-rated")}else{$(".fk-user-rating .fk-give-star .user-rating").animate({width:(d*20)+"%"},"fast")}var n=s_gi(s_account);n.linkTrackVars="products,eVar22,events"+(l?",prop46":"");n.linkTrackEvents="event34";n.products=";"+g+";;;;eVar22="+o.vertical;if(l){n.prop46=l}n.events="event34";n.tl(this,"o","Rating added");FKART.ugc.updateOmnitureFirstTime(parseInt(e.closest(".fk-give-star").attr("data-rating-count"),10),"First Rating Added","event50")})}));function b(e,d){FKART.digital.notify({text:'<span class="tick_icon"></span><p class="fk-inline-block tmargin5 lmargin10 rmargin10"> You have rated "'+e+'"</p><div class="fk-stars-small" title ="'+d+' stars"><div class="rating" style="width:'+(d*13)+'px;"></div></div>'})}};FKART.ugc.ui.init=function(a,b){b=b||false;FKART.ugc.ui.editableRatingsInit(a);$(".fk-ugc-review-rate").click(FKART.ensureLogin(function(){var e=$(this).closest(".fk-review").attr("review-id");var d=parseInt($(this).attr("rate"));d=d>0?1:0;var c=this;FKART.ugc.review.rateReview(e,d,function(){$(c).parent().after("<span class='fk-msg-thanks'> Thanks for your vote! </span>");$(c).parents(".show-on-hover").removeClass("show-on-hover");var f=s_gi(s_account);if(d==1){FKART.omni.customEvent("productpage review rating",{prop15:"yes_"+f.pageName})}else{FKART.omni.customEvent("productpage review rating",{prop15:"no_"+f.pageName})}})}));$(".fk-ugc-review-reportAbuse").click(FKART.ensureLogin(function(){if(!confirm("Are you sure you want to report this review as abusive?")){return}var d=$(this).parentsUntil(".fk-review").parent().attr("review-id");var c=this;FKART.ugc.review.reportAbuse(d,function(){$(c).hide().removeClass("show-on-hover").after("<span class='unitExt fk-msg-thanks'>Thanks for reporting!</span>")})}));$(".fk-ugc-review-updateCertifiedBuyerBadge").click(FKART.ensureLogin(function(){var f=$(this).parentsUntil(".fk-review").parent().attr("review-id");var c=$(this).parentsUntil(".fk-review").parent().attr("property-id");var e=this;var d=e.checked;FKART.ugc.review.updateCertifiedBuyerBadge(f,c,d,function(g){d?$(e).parents(".review").find(".imgCertifiedBuyer").show():$(e).parents(".review").find(".imgCertifiedBuyer").hide()},function(g){alert("Error updating badge, please try after sometime")})}));$(".fk-ugc-review-delete").click(FKART.ensureLogin(function(){if(!confirm("Are you sure you want to delete this review?")){return}var d=$(this).parentsUntil(".fk-review").parent().attr("review-id");var c=this;$(this).parents(".review,.fk-review").prepend("<div id='blockedDiv' class='blocked'><div style='margin: 150px;'>Deleting this review.</div></div>");FKART.ugc.review.deleteReview(d,function(){$(c).parents(".review,.fk-review").slideUp(500,function(){window.location.reload()})},function(e){$(".blocked").hide();alert("Your review could not be deleted, please try after sometime")})}));if(!b){$(".fk-review").delayedHover(function(){$(this).find(".show-on-hover").fadeTo(200,1)},function(c){if($(c.relatedTarget).parents(".user-widget-tooltip").length>0){return}$(this).find(".show-on-hover").fadeTo(200,0.001)})}$(".load-user-widget").each(function(){var c="<img src='/images/ajax-loader.gif' alt='' class='user-widget-loader' /> Loading..";var d=new FKART.ui.Tooltip({message:c,nearElement:this,cssClass:"user-widget-tooltip",align:"left",extraHoverArea:true});$(this).data("tooltip",d)});$(".load-user-widget").delayedHover(function(){var e=$(this).data("tooltip");e.show();if($(this).attr("profile_name")!=""){var d=$(this).attr("profile_name");var c=this;FKART.ugc.getUserWidget(d,function(f){e.updateContent(f.html);$(c).attr("profile_name","")})}},function(d){if($(d.relatedTarget).parents(".user-widget-tooltip").length>0||$(d.relatedTarget).is(".date")){return}var c=$(this).data("tooltip");c.hide()});$(".user-widget-tooltip").hover(function(){$(this).show()},function(c){if($(c.relatedTarget).is(".load-user-widget")){return}$(this).hide()});$(".badge-certified-buyer").each(function(){var c=new FKART.ui.Tooltip({message:$(".tooltip-text",this),nearElement:$(".img",this),cssClass:"badge-tooltip",extraHoverArea:true,align:"left",showCloseIcon:false});$(this).data("tooltip",c)});$(".badge-certified-buyer").delayedHover(function(){$(this).data("tooltip").show()},function(c){if($(c.relatedTarget).parents(".badge-tooltip").length>0){return}$(this).data("tooltip").hide()});$(".badge-tooltip").hover(function(){$(this).show()},function(c){if($(c.relatedTarget).is(".badge-certified-buyer")){return}$(this).hide()})};FKART.ui.InfiniteScroll=function(A){var A=A,x=false,g=true,f,b,n,r,z,y,p,a,q,w;this.setUpScroll=function(){f=A.startFrom||(o()+A.page_size);b=A.baseUrl||v();n=A.totalResults;r=f;q=Math.ceil(f/A.page_size)>0?Math.ceil(f/A.page_size):1;y=q;if(typeof A.autoLoad!="undefined"){g=A.autoLoad}c();l();m();if(FKART.locationHash.get("pageno")&&FKART.locationHash.get("scrollTo")){z=FKART.locationHash.get("pageno");if(z>q){e(z,function(){$(window).scrollTop(FKART.locationHash.get("scrollTo"))})}}};function c(){A.showMoreText=A.showMoreText||"Show more results";A.loadingText=A.loadingText||"Loading more results";A.startParamName=A.startParamName||"start";A.noMoreResultsText=A.noMoreResultsText||"No more results to display.";A.bottomHeight=A.bottomHeight||(160+150*3);if(typeof A.autoLoadNo=="undefined"){A.autoLoadNo=3}A.appendAfter=A.appendAfter||A.container+" .fk-inf-scroll-item:last";if(typeof A.changeLocationHash=="undefined"){A.changeLocationHash=true}}function e(E,D){function C(G,F){if(F<E){B()}else{if(F==E){$(A.container).unbind("page_loaded",C);if(D){D()}}}}$(A.container).bind("page_loaded",C);B()}function l(){var D=document.createElement("div");$(D).addClass("line").css("clear","both");var C=document.createElement("div");var E=document.createElement("div");$(C).addClass("fk-inf-load-more hidden").text(A.showMoreText);$(E).addClass("fk-inf-scroll-loader hidden").html('<img src="/images/ajax-loader-transparent.gif" /> '+A.loadingText);$(A.container).append(D);$(D).append(C).append(E);a=$(".fk-inf-load-more",A.container);p=$(".fk-inf-scroll-loader",A.container);a.show()}function m(){FKART.ui.goTop.init();w=$(A.container||document.body).bottomOfElement(t,A.bottomHeight);a.click(function(){$(this).hide();B();$(A.appendAfter).removeAttr("style")});a.hover(function(){$(this).css("border","1px solid #aaaaaa")},function(){$(this).css("border","1px solid #cccccc")});if(A.changeLocationHash){$("a").live("click",function(){FKART.locationHash.set("scrollTo",$(window).scrollTop());FKART.locationHash.set("pageno",y)})}}function B(){$(A.appendAfter).css("border-bottom","0");if(!x){x=true;p.show();a.hide();u(function(C){x=false;p.hide();if(C){f=f+A.page_size;d(C)}},function(){p.hide();x=false;a.show()})}}function d(C){if(C.count!=0){$(A.appendAfter).after(stripslashes(C.html));$(A.appendAfter).css("border-bottom","0");if((C.pageno-q)>=A.autoLoadNo){g=false;w.unbind()}if(!p.is(":visible")){a.show()}$(A.counterSelector).text(r+C.count);$(A.container).trigger("page_loaded",[C.pageno])}if(A.changeLocationHash&&FKART.locationHash.get("pageno")){if(FKART.locationHash.get("pageno")<C.pageno){FKART.locationHash.set("pageno",C.pageno)}}y=C.pageno;r+=C.count;if(C.count==0||r>=n||r>=5000){g=false;p.show().text("No more results to display.");a.hide();$(A.appendAfter).removeAttr("style");w.unbind()}}function t(){if(!x&&g){B();$(A.appendAfter).removeAttr("style")}}function u(E,C){var D={};D[A.startParamName]=f;$.ajax({type:"GET",url:b,data:D,dataType:"json",cache:true,success:function(F){if(F){if(E){E(F)}}else{if(C){C()}}},error:function(){if(C){C()}},complete:function(F,G){}})}function o(){var C=/start[=]([0-9]+)/.exec(window.top.location);if(C){return parseInt(C[1])}else{return 0}}function v(){var C=""+window.top.location;if(C.indexOf("#")>-1){C=C.substring(0,C.indexOf("#"))}C=C.replace(/[&]?start[=][0-9]+/,"");return updateQueryStringParameter(C,"response-type","json")}};(function(b){var c=b(window);function a(m,n,e){var l=m.position().top,g=m.outerHeight(),f=c.scrollTop()+c.height();d(f,l+g,e)&&n&&n()}function d(f,l,e){var g=l-e;return f>g}b.fn.bottomOfElement=function(n,e){var l,f=false;function m(){l&&!f&&c.scroll(l)&&(f=true)}function g(){c.unbind("scroll",l);f=false}this.each(function(){e=e||0;var o=b(this);l=throttle(a.curry(o,n,e),100);m()});return{bind:m,unbind:g}}})(jQuery);var cart={selected_tab:"cart-tab",tab_instance:null,extra_tracking:{},togglePromoInfo:function(){$(".promo-btn").click(function(){var a=$(this);a.parent().prev(".promo-info-div").slideToggle(function(){if($(this).is(":visible")){a.find("span").html(" &#x25B2;")}else{a.find("span").html(" &#x25BC;")}})})},init:function(){cart.dialog=window.cart_dialog=new FKART.ui.Dialog({width:850,height:460,body:$("#panelsh"),header:$("#shopping-cart-header"),showFooter:false,cssClass:"cart-dialog"});$(".cart-tabs").tabs();cart.tab_instance=$(".cart-tabs").data("tabs_instance");cart.loader=new FKART.ui.Loader({modal:true,cssCls:"cart-loader"});window.LOADER=cart.loader;cart.togglePromoInfo()},bindEvents:function(){var a=document.getElementById("panelsh");cart_bind_qty_events(a,cart_qty_save);$(".cart-remove-item",a).click(function(){deleteFromDetailPopup($(this).attr("data-listing_id"))});$(".cart-wishlist-add",a).click(function(){moveToWishListDetail($(this).attr("data-listing_id"))})},response:{success:cart_onsuccess,error:cart_onerror,failure:cart_onfailure}};$(document).ready(cart.init);function show_cart_status(b,c){cart.selected_tab=c||cart.selected_tab;var a=document.getElementById("panelsh");a.innerHTML=b;cart.tab_instance.changeTab(cart.selected_tab);cart.bindEvents();cart.togglePromoInfo();FKART.utils.runOnload();FKART.utils.runWindowOnload();$(".cart-dialog .to-fade").delay(12000).slideUp("slow");setTimeout(function(){$(".highlight-row").removeClass("highlight-row")},12000);$(".cart-dialog .fk-panel").collapser({action:"hide",indicatorHtml:true});$(window.cart).trigger("loaded")}function updateOmniture(d,a,c){var m,o;if(a<2){m="scAdd,scOpen,event24,scView";o="scAdd,scOpen,event24,scView"}else{m="scAdd,event24,scView";o="scAdd,event24,scView"}var b=s.getQueryParam("icmpid");if(typeof c!="undefined"&&typeof c.icmpid!="undefined"){b=c.icmpid;c.eVar30=b}var f=s.getQueryParam("srno");var e=s.getQueryParam("pid");var n=s.getQueryParam("otracker");var g="NA";if(s.pageName.match(/^search*/gi)||(typeof n!="undefined"&&($.trim(n)=="from-search")||$.trim(n)=="from-multi")){g="SEARCH";if(!(typeof e!="undefined"&&$.trim(e)!="")){m+=",event48";o+=",event48"}}var l=(FKART.omni&&FKART.omni.getProperty("previous_page_name"))||"";if((typeof f!="undefined"&&$.trim(f)!="")||s.pageName.match(/^search*/gi)){g="SEARCH"}else{if(s.pageName.match(/^wishlist*/gi)){g="WISHLIST"}else{if(typeof b!="undefined"&&$.trim(b)!=""){g=b.match(/^reco_*/gi)?"RECOMMENDATION":b.match(/^banner_*/gi)?"BANNER":"NA"}else{if($.trim(s.prop25)=="Browse"||$.trim(s.prop25)=="Store Browse"||$.trim(l)=="Browse"||$.trim(l)=="Store Browse"){g="Store/Browse"}else{if(l=="Category Homepage"){g="Merchandising"}}}}}c=c||{};$.extend(c,cart.extra_tracking);FKART.omnitureFireEvent({"track-vars":"products,eVar20,eVar22,events,eVar30","track-events":m,products:d,events:o,"set-evar20":true,"set-evar30":true,"set-evar33":true,"set-evar61":g,"set-evar42":true,"set-evar44":true,"set-list1":s.list1,"set-prop12":(FKART.LOGGEDIN?"Login":"Logout")+":CartAddition",name:"add to cart",omni_data:c});if(c&&c.resetPageName){FKART.omni.customEvent(c.eventName,{pageName:c.resetPageName})}}function cart_addItem(a,m,f,c){var l=$(".buy_listing_"+a).first();c=c||{};if(l&&l.attr){var n=l.attr("class");var g=n&&n.split&&n.split(" ");var b=g&&g.length;for(var e=0;e<b;e++){var d=g[e];if(d&&d.indexOf&&d.indexOf("lst_pos_")>-1){c.listingPosition=d.replace("lst_pos_","")}else{if(d&&d.indexOf&&d.indexOf("lst_seller_")>-1){c.listingSeller=d.replace("lst_seller_","")}}}}cart.loader.show();$(".quickview-dialog").hide();ajaxRequestNew("POST","/xhr/addItemToCart",{edition_id:a,query:m,rank:f},{success:function(o){if(o.already_bought){cart.loader.hide();cart_dialog.hide();new FKART.Alert({body:o.html,destroy_on_close:true,width:500});return}cart.loader.hide();cart_dialog.show();show_cart_status(o.html,o.tab);$(".first-row",".seller-orders").addClass("highlight-row");cart_updateCount(o.item_count,o.digital_item_count);try{updateOmniture(o.omn_param,(o.tab=="digital-cart-tab")?o.digital_item_count:o.item_count,c)}catch(p){}},error:cart_onerror,failure:cart_onfailure})}function get_cart_banner_popup_internal(a,c,d,b){cart_addItem(a,c,d,b)}function get_cart_banner_pop(a,b,c,d){cart_addItem(a,c,d)}function cart_view(a){show_cart_status(getLoader(),a);var c={},b="/xhr/createDetailPopup";cart_dialog.show();$(cart).trigger("request_start",[b,c]);ajaxRequestNew("POST",b,c,{success:function(d){show_cart_status(d.html,a?a:d.tab);cart_updateCount(d.item_count,d.digital_item_count);FKART.omnitureFireEvent({"track-vars":"scView,events","track-events":"scView",events:"scView","set-evar20-pn":true,name:"view cart","set-evar33":true,omni_data:cart.extra_tracking})},error:cart_onerror,failure:cart_onfailure})}function cart_onerror(b,a){cart.loader.hide();b||(b="Internal server error. Please reload the page and try again later.");new FKART.Alert({body:b,destroy_on_close:true,width:500});remove_cart_banner()}function cart_onfailure(){cart.loader.hide();remove_cart_banner()}function cart_onsuccess(a){cart.loader.hide();cart_updateCount(a.item_count,a.digital_item_count);show_cart_status(a.html,a.tab)}function get_detail_banner_pop(b,a){cart_view(a)}function cart_updateCount(a,b){$("#count-cart,#item_count_in_cart_top_displayed").text(a);$("#count-digital-cart,.digital-cart-count").text(b)}function getLoader(){var a="";a+="<div class='loader-body'>";a+="<div class='line panel-loader'>";a+="<div class='unit '><img src='/images/ajax-loader_new.gif'/></div>";a+="<div class='lpadding10 lastUnit'>Loading...</div>";a+="</div>";a+="</div>";return a}var cart_bind_qty_events=function(b,a){$(".cart-qty-change",b).click(function(){$(this).closest(".carty-changeQuantity").find(".cart-qty-panel-read").hide().end().find(".cart-qty-panel-write").show().end().find(".cart-qty-textbox").focus()});$(".cart-qty-form",b).submit(function(){var e=$(this).closest(".carty-changeQuantity");var f=e.find(".cart-qty-panel-read").show().end().find(".cart-qty-panel-write").hide().end().find(".cart-qty-textbox").val();f=parseInt($.trim(f),10);var c=e.find(".carty-qty").text();c=parseInt($.trim(c),10);var d=$(this).attr("data-listing_id");!isNaN(f)&&f>0&&f!=c&&e.find(".carty-qty").text(f)&&a({listing_id:d,quantity:f});return false})};function cart_qty_save(a){cart.loader.show();ajaxRequestNew("POST","/xhr/changeDetailQuantity",{eid:a.listing_id,count:a.quantity,title:""},cart.response)}function deleteFromDetailPopup(a){cart.loader.show();ajaxRequestNew("POST","/xhr/deleteFromDetailPopup",{eid:a,title:""},cart.response)}function deleteAllFromDetailPopup(){cart.loader.show();ajaxRequestNew("POST","/xhr/deleteAllFromDetailPopup",{},cart.response)}function moveToWishListDetail(a){cart.loader.show();ajaxRequestNew("POST","/xhr/moveToWishListDetail",{eid:a,title:"",__FK_ID:__FK},cart.response)}function remove_cart_banner(){cart.loader.hide();if(cart_dialog.isOpen()){cart_dialog.hide()}}function gotoCheckoutPage(a){cart.loader.show();window.self.location.href=a}addOnload(function(){$(window.cart).bind("loaded",function(){cart.pincode_checker&&cart.pincode_checker.destroy();if($(".cart-pincode-checker").length){cart.pincode_checker=new FKART.widgets.PincodeChecker({container:$(".cart-pincode-checker"),tooltipConfig:{cssClass:"cart-pincode-checker-tooltip yellow",inside:cart.dialog.getContainer().find(".window")}});cart.pincode_checker.change(function(a){$(window.cart).one("request_start",function(c,b,d){d.pincode=a});cart_view()});if(cart.nonWSRSellerPresent){cart.selected_tab=="cart-tab"&&cart.pincode_checker.getPincode()==""&&cart.pincode_checker.focus()}}})});function toggle_cart_recommendations(){var a=$("#shopping-cart-recos");if(a.css("visibility")=="hidden"){show_cart_recommendations()}else{hide_cart_recommendations()}}function show_cart_recommendations(){var a=$("#shopping-cart-recos");if(a.css("display")=="none"){return}a.css("visibility","visible");a.css("position","static");$(".cart-reco-triangle").css("background-position","0 5px");$("#reco-cart-body").css({height:"154px"});$(".cartreco-icon-chevron").addClass("down");lowValueReco.clicked=true;if(lowValueReco.trackImpression&&!lowValueReco.tracked){lowValueReco.trackCall()}}function hide_cart_recommendations(){var a=$("#shopping-cart-recos");a.css("visibility","hidden");a.css("position","absolute");$(".cart-reco-triangle").css("background-position","0 -55px");$("#reco-cart-body").css({height:"256px"});$(".cartreco-icon-chevron").removeClass("down")}addOnload(function(){cart.recos_expanded=false;window.cart_dialog.bindEvent("afterHide",function(){cart.recos_expanded=false;lowValueReco.reset();cart.extra_tracking={}})});FKART.digital={};FKART.digital.bindTooltips=function(){$(".album-tooltip-required").each(function(){var c=$(this);var a=c.attr("data-pid");var d=c.find(".thumbnail,.title");var b=new FKART.ui.HoverTooltip({cssClass:"digital album-tooltip drop-box-shadow",destroyTimeout:10000,showCloseIcon:false,ajaxUrl:"/ajax/digital/getAlbumTooltip?album_id="+a,align:"auto",nearElement:c.find(".thumbnail"),attachTo:d});d.each(function(){$(this).click(function(){$(this).trigger("mouseleave")})});$(this).data("tooltip",b);$(this).removeClass("album-tooltip-required")});$(".track-row.track-tooltip-required,.track-row.tooltip-required").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital track-tooltip drop-box-shadow",align:"l-middle",message:b.find(".track-tooltip"),showCloseIcon:false,nearElement:b.find(".product-image"),attachTo:b});b.data("tooltip",a);b.removeClass("tooltip-required");b.removeClass("track-tooltip-required")});$(".digital-menu .digital-button.library.tooltip-required, .browse-menu .digital-button.library a").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital sub-menu-tooltip drop-box-shadow",align:"b-right",message:$(".mp3-lib-btn-tooltip"),showCloseIcon:false,nearElement:b});b.data("tooltip",a);b.removeClass("tooltip-required")});$(".digital-menu .digital-button.cart.tooltip-required, .browse-menu .digital-button.cart a").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital sub-menu-tooltip drop-box-shadow",align:"b-right",message:$(".digi-cart-btn-tooltip"),showCloseIcon:false,nearElement:b});b.data("tooltip",a);b.removeClass("tooltip-required")});$(".ebook-tooltip-required").each(function(){var c=$(this);var a=c.attr("data-pid");var b=new FKART.ui.HoverTooltip({cssClass:"digital ebook-tooltip drop-box-shadow",destroyTimeout:10000,showCloseIcon:false,ajaxUrl:"/ajax/browse/getProductToolTip?id="+a,align:"auto",nearElement:c.find(".thumbnail"),attachTo:c.find(".thumbnail,.title")});$(this).data("tooltip",b);$(this).removeClass("ebook-tooltip-required")})};FKART.digital.bindPopularListTooltips=function(){$(".album-left-tooltip-required").each(function(){var c=$(this);var a=c.attr("data-pid");var b=new FKART.ui.HoverTooltip({cssClass:"digital album-tooltip drop-box-shadow",destroyTimeout:10000,showCloseIcon:false,ajaxUrl:"/ajax/digital/getAlbumTooltip?album_id="+a,align:"auto",nearElement:c});$(this).data("tooltip",b);$(this).removeClass("album-left-tooltip-required")});$(".track-tooltip-required").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital track-tooltip drop-box-shadow",align:"l-middle",message:b.find(".track-tooltip"),showCloseIcon:false,nearElement:b.find(".thumbnail"),attachTo:b});b.data("tooltip",a);b.removeClass("track-tooltip-required")})};FKART.digital.notify=function(a){var c=function(g){var n={stayTime:7000,text:"",stay:false};var g,d,f,e,l,m;g=$.extend({},n,g);if($(".digital-notifier").length){b($("digital-notifier"))}d=(!$(".digital-notifier").length)?$("<div></div>").addClass("digital-notifier box-shadow").appendTo("body").hide():$(".digital-notifier").hide();f=(!$(".notifier-text").length)?$("<span></span>").addClass("notifier-text ").appendTo(d).html(g.text):$(".notifier-text").html(g.text);e=$("<span></span>").addClass("notifier-close-btn").prependTo(d).click(function(){b(d)});d.slideDown("slow");if(!g.stay){FKART.dig_notifier_timer=setTimeout(function(){b(d)},g.stayTime)}l=function(){clearTimeout(FKART.dig_notifier_timer)};m=function(){if(!g.stay){FKART.dig_notifier_timer=setTimeout(function(){b(d)},g.stayTime)}};d.hover(l,m)};var b=function(d){d.slideUp("slow");clearTimeout(FKART.dig_notifier_timer)};c(a)};FKART.digital.previewBuyNow=function(b){window.samplePreviewDialog.hide();var a=s.pageName;FKART.omni.customEvent("Preview Cart Addition Update PageName",{pageName:s.pageName+"|ReadSample"});cart_addItem(b,undefined,undefined,{resetPageName:a,eventName:"Preview Cart Addition Restore PageName"})};FKART.digital.addToLibrary=function(b,c){var e,a,f,d="";if(typeof c!="undefined"&&c=="digital_ebook"){e="/account/ebookslibrary";a="eBook Library";d=" tmargin5";f=' To read the eBook, download it on the <a href="https://play.google.com/store/apps/details?id=com.flipkart.fkreader&hl=en">Flyte eBooks App</a> for Android'}else{e="/account/mp3library";a="MP3 Library";f='<a href="'+e+'" class="fk-button blue">Download from '+a+"</a>"}ajaxRequestNew("POST","/xhr/addFreeProductToLibrary",{pid:b},{success:function(n){var m=$(".edition_"+b);var g=$(m[0]).attr("data-item-name");FKART.digital.notify({text:'<span class="tick_icon"></span> "<div class="fk-inline-block '+d+'"><span class="item_name">'+g+'</span>" has been successfully added to your <a href="'+e+'">'+a+"</a>. &nbsp;"+f+"</div>"});var r='<div class="exp_co_item_added sml_msg"><span class="tick_icon"></span> Added to <a href="'+e+'">Library</a></div>';var l='<div class="exp_co_item_added"><span class="tick_icon"></span> Successfully added to your <a href="'+e+'">'+a+'</a> <div class="tmargin5">'+f+"</div></div>";for(var t=0;t<m.length;t++){var o=$(m[t]);if(o.parents(".track-list.prod_page").length){o.find("td.buy-options-col").remove();var p=o.find("td.price");p.attr("colspan",2).addClass("item-added").removeClass("price").html(r)}else{if(o.parents(".track-list").length){o.find("td.buy-options-col").remove();o.find("td.price").remove();var p=o.find("td.bitrate");p.attr("colspan",3).addClass("item-added").removeClass("price").html('<div class="exp_co_item_added"><span class="tick_icon"></span> Added<br/><a href="'+e+'" class="lib-link">Download from '+a+"</a></div>")}else{var q=$("<div>");if(o.hasClass("long_msg")){q.html(l)}else{o.removeClass("buy-options");q.html(r)}o.html(q)}}}FKART.omni.customEvent("Add to Library",{events:"event52"})},error:function(g){new FKART.Alert({body:g,width:500,destroy_on_close:true})}})};FKART.digital.lookInside=function(b,c){var a;if(window.samplePreviewDialog){window.samplePreviewDialog.destroy();window.sampleAlreadyProcessing=false;delete window.samplePreviewDialog}if(!window.sampleAlreadyProcessing){window.sampleAlreadyProcessing=true;a={events:"event53",products:$(c).attr("data-omni")};var e=/(iPhone|iPod|iPad).*/i.test(navigator.userAgent);if(!$.browser.msie){$.get("/xhr/getEbookSamplerContent",{pid:b},function(f){var g;f=f.replace(/^\s*/,"").replace(/\s*$/,"");f=FKART.JSON.decode(f);if(f.status=="ok"){g=f.data.html;var l=$("<iframe></iframe>");l.attr({frameborder:0,height:(e?430:"100%"),width:(e?750:"100%"),src:"about:blank",id:"sample_preview_iframe"});window.samplePreviewDialog=new FKART.ui.Dialog({width:(e?750:"978px"),height:(e?500:$(window).height()-40),body:l,header:$(".sample-preview-header").get(0).cloneNode(true),showFooter:false,cssClass:(e?"look-inside-dialog":"new-look-inside-dialog")});window.samplePreviewDialog.bindEvent("afterShow",function(){document.getElementById("sample_preview_iframe").contentDocument.write(g)});window.samplePreviewDialog.show()}FKART.omni.customEvent("View Sample",a)})}else{d()}function d(){var f="eBook preview not supported on Internet Explorer. Please try on Mozilla Firefox or Google Chrome.";new FKART.Alert({body:f,width:500,destroy_on_close:true})}}};if(typeof(FKART)=="undefined"){FKART={}}FKART.Compare=new function(){var a;var e=$("#comp-loading-img").attr("src");var d="/compare?ids=";this.compareCartElm=$("#fk-compare-cart");this.compareCartHolderElm=$("#fk-compare-cart-holder");this.windowElement=$(window);this.compareLabelText={before:"Add to compare",after:"Added to compare"};function b(o){if(typeof o=="undefined"){o=1}var p=$("#fk-compare-cart .compare-items");for(var q=0;q<o;q++){p.append(a.clone())}}function g(){var o=$("#fk-compare-cart .compare-item[item_id]").length;if(o>=2&&o<=4){$("#fk-compare-cart .compare-button").removeClass("disabled")}else{if(o<2){$("#fk-compare-cart .compare-button").addClass("disabled")}}}function l(q,p){for(var o=0;o<p.length;o++){if(p[o].toLowerCase()==q.toLowerCase()){p.splice(o,1);return p}}return p}function m(){var p=$(".enable-compare .compare-checkbox:checked");var o=fk_compare.cookie.getVerticalItemsData().length||p.length;var q=$(".enable-compare .compare-checkbox").not(":checked");if(o==4){q.attr("disabled",true).next().addClass("disabled");q.parent().addClass("disabled")}else{if(q.is(":disabled")){q.attr("disabled",false).next().removeClass("disabled")}q.parent().removeClass("disabled")}p.each(function(){$(this).next().addClass("added")})}function n(){var o=fk_compare.compareCartHolderElm;if(o.is(":hidden")){o.slideDown("fast","linear").removeClass("hide");fk_compare.windowElement.scroll()}}function f(){var o=$($("#fk-compare-cart .empty_item")[0]);o.removeClass("empty_item");$(".thumbnail",o).attr("src",e);$(".description",o).text("Adding...");return o}function c(q,o){var p=$('.pp-add-to-compare[id="'+q+'"]');if(p.length){if(o){p.removeClass("enabled").text(fk_compare.compareLabelText.after).addClass("disabled")}else{p.removeClass("disabled").text(fk_compare.compareLabelText.before).addClass("enabled")}}}this.toggleCantCompareErrMsg=function(o,q){var p=$(".compare-err-msg-holder");if(o){p.find(".cant-compare-item").html(q);p.slideDown("fast")}else{p.slideUp("fast")}};this.init=function(){this.compareCartElm=$("#fk-compare-cart");this.compareCartHolderElm=$("#fk-compare-cart-holder");if($("#fk-compare-cart").length>0){fk_compare.bindScrollableCart();fk_compare.bindCheckBoxClick();a=$($("#fk-compare-cart .empty_item")[0]).clone();fk_compare.bindRemoveItemClick();fk_compare.addItemsFromCookie();$("#search_results, #browse").bind("page_loaded",function(){fk_compare.tickCheckboxesFromCookie();fk_compare.enableDisableCheckBoxes()})}else{if($("#fk-compare-table").length>0){fk_compare.resultsPage.bindClick();fk_compare.resultsPage.bindBrandClick();fk_compare.resultsPage.bindScrollableInfo();fk_compare.resultsPage.adjustTableColumns();fk_compare.resultsPage.bindHelpInfoClicks();fk_compare.cookie.updateCookie(fk_compare.resultsPage.getItemIds());FKART.ui.goTop.init();$(document).unbind("click").bind("click",function(p){var o=$(p.target);if(!o.hasClass("control-model")&&!o.hasClass("control-brand")&&o.parents(".control-brand").length==0){$(".models-list").slideUp("fast","linear")}})}}};this.enableDisableCheckBoxes=function(){m()};this.goToCompare=function(){if($("#fk-compare-cart .compare-button.disabled").length>0){return}var p=[];$("#fk-compare-cart .compare-item[item_id]").each(function(r){p.push($(this).attr("item_id"))});var o="/"+this.cookie.getVertical(true).replace(/_/g,"-");var q=o+d+p.join(",");window.open(q)};this.adjustImage=function(t,q,r,p){var o=new Image();$(o).load(function(){var u=q;u.css("margin-top",(u.parent().height()-this.height)/2).attr("src",o.src);p.removeAttr("disabled")}).error(function(){q.css("margin-top","0px").attr("src",r);p.removeAttr("disabled")});o.src=t};this.bindScrollableCart=function(){if($.browser.msie&&parseInt($.browser.version)==7){var o=$(".enable-compare");fk_compare.windowElement.scroll(function(){if(o.offset().top<=fk_compare.windowElement.scrollTop()){fk_compare.compareCartHolderElm.addClass("fix")}else{fk_compare.compareCartHolderElm.removeClass("fix")}})}else{fk_compare.windowElement.scroll(function(){if(fk_compare.compareCartHolderElm.offset().top<=fk_compare.windowElement.scrollTop()){fk_compare.compareCartElm.removeClass("static").addClass("scroll")}else{fk_compare.compareCartElm.removeClass("scroll").addClass("static")}})}};this.bindRemoveItemClick=function(){$("#fk-compare-cart .compare-item").unbind("click").bind("click",function(q){var p=$(q.target),o=p.parents(".compare-item[item_id]");if(p.hasClass("delete")&&o.length>0){fk_compare.removeItem(o.attr("item_id"))}})};this.bindCheckBoxClick=function(){$(".enable-compare").unbind("click").bind("click",function(t){var p=$(t.target);var o=p.attr("id");if(p.hasClass("compare-checkbox")){if(p.attr("checked")){if(fk_compare.checkIfComparable(o)){var q=p.attr("data-uniqid");p.attr("disabled","disabled");fk_compare.addItems([o],true,q)}else{var r=p.attr("display_vertical");fk_compare.toggleCantCompareErrMsg(1,r);p.removeAttr("checked")}}else{fk_compare.removeItem(o)}}if(p.hasClass("pp-add-to-compare")){if(fk_compare.checkIfComparable(o)){var q=p.attr("data-uniqid");fk_compare.addItems([o],true,q);p.removeClass("enabled").addClass("disabled")}else{var r=p.attr("display_vertical");fk_compare.toggleCantCompareErrMsg(1,r)}}})};this.checkIfComparable=function(q){var p=this.cookie.getVertical();if(p&&typeof q!="undefined"){var o=$("#"+q.toUpperCase()).attr("vertical");if(p!=o){return false}}return true};this.errorLoading=function(o,q){for(var p=0;p<o.length;p++){$("#"+o[p]).attr("checked",false);q[p].addClass("empty_item failed");$(".description",q[p]).text("Failed to add!!");m();q[p].delay(500).fadeOut("fast",function(){$(".description",$(this)).text("Add Another Item");$(this).removeClass("failed").show()})}};this.tickCheckboxesFromCookie=function(){var o=fk_compare.cookie.getVerticalItemsData();if(o.length>0){fk_compare.tickCheckbox(o)}};this.tickCheckbox=function(r){var p;for(var q=0,o=r.length;q<o;q++){p=$("#"+r[q].toUpperCase());if(!p.attr("checked")){p.attr("checked",true)}p.next().text(fk_compare.compareLabelText.after).addClass("added")}};this.addItems=function(r,u,v){n();var o=[];r=r.join(",").toUpperCase().split(",");for(var t=0;t<r.length;t++){if($("#fk-compare-cart .compare-item[item_id='"+r[t]+"']").length>0){return}o.push(f())}var w=g;var q=m;var p={};p.ids=r.join(",");if(typeof v!="undefined"){p.ref=v}$.ajax({url:"/compareCommand/getProduct",data:p,dataType:"json",success:function(A){for(var z=0;z<r.length;z++){var D=r[z],C=o[z];if(typeof(A.products[D])!=="undefined"){C.attr("item_id",D);var y=$("#"+D);(function(F,H,G,E){return fk_compare.adjustImage(F,H,G,E)})(A.products[D].thumb,$(".thumbnail",C),A.products[D].error_image,y);var B=A.products[D].title;if(B.length>42){B=B.substr(0,39)+"..."}$(".description",C).text(B);if(!y.attr("checked")){y.attr("checked",true)}y.next().text(fk_compare.compareLabelText.after).addClass("added");c(D,1);if(u){var x=";"+D+";;;;eVar22=";if(typeof(A.products[D].anltData)!="undefined"){x+=A.products[D].anltData.anlt_category}else{x+=y.attr("display_vertical")}FKART.omni.customEvent("Compare Product",{products:x,events:"event25"});fk_compare.cookie.addItem(D)}}else{fk_compare.errorLoading([D],[o[z]])}}fk_compare.bindRemoveItemClick();w();q()},error:function(x,y){fk_compare.errorLoading(r,o)}})};this.addItemsFromCookie=function(){var o=fk_compare.cookie.getVerticalItemsData();if(o.length>0){fk_compare.addItems(o,false)}};this.removeItem=function(o){$("#fk-compare-cart .compare-item[item_id='"+o+"']").animate({width:"0%"},{duration:350,specialEasing:{width:"linear"},complete:function(){$(this).remove();$("#"+o).attr("checked",false).next().text(fk_compare.compareLabelText.before).removeClass("added");fk_compare.cookie.removeItem(o);b();g();m();c(o,0);var p=$("#fk-compare-cart .compare-item[item_id]").length;if(!p){fk_compare.toggleCantCompareErrMsg(0)}}})};this.clearList=function(){this.toggleCantCompareErrMsg(0);var o=$("#fk-compare-cart .compare-item[item_id]");o.fadeOut("slow",function(){var q=$(this).attr("item_id");$(this).remove();$("#"+q).attr("checked",false).next().text(fk_compare.compareLabelText.before).removeClass("added");$('.pp-add-to-compare[id="'+q+'"]').text(fk_compare.compareLabelText.before).removeClass("disabled").addClass("enabled");b()});$("#fk-compare-cart .compare-button").addClass("disabled");var p=$(".enable-compare .compare-checkbox").not(":checked");if(p.is(":disabled")){p.attr("disabled",false).next().removeClass("disabled")}fk_compare.cookie.removeAll()};this.close=function(){this.clearList();this.toggleCantCompareErrMsg(0);this.compareCartHolderElm.slideUp("fast","linear")};this.resultsPage=new function(){this.isAjaxInProgress=false;this.flotStartHereElm=null;this.floatInfoElm=null;this.getItemIds=function(){var o=[];$("#comp-detail-info .main-title .fk-prod-title[item_id]").each(function(p){o.push($(this).attr("item_id"))});return o};this.adjustTableColumns=function(){var o=$("#comp-detail-info TR:first TD");$("#comp-float-info TR:first TD>DIV").each(function(q){var p=$(o[q]);$(this).width($(p).innerWidth()-1)})};this.bindScrollableInfo=function(){fk_compare.windowElement.scroll(function(){if(!fk_compare.resultsPage.flotStartHereElm){fk_compare.resultsPage.flotStartHereElm=$("#comp-info-start-here")}if(!fk_compare.resultsPage.floatInfoElm){fk_compare.resultsPage.floatInfoElm=$("#comp-float-info")}if(fk_compare.resultsPage.flotStartHereElm.offset().top<=fk_compare.windowElement.scrollTop()&&fk_compare.resultsPage.floatInfoElm.attr("do_scroll")=="true"){fk_compare.resultsPage.floatInfoElm.show()}else{fk_compare.resultsPage.floatInfoElm.hide()}})};this.bindClick=function(){var o=l;$(".fk-compare-table").unbind("click").bind("click",function(t){var r=$(t.target);var q=r.next();if(r.hasClass("more_link")){r.parent().parent().find("TD[org_data]").each(function(x){var w=$(this).attr("org_data");$(this).html(w.replace(/\[single-quote\]/gi,"'").replace(/\[double-quote\]/gi,'"'))})}else{if(r.hasClass("fk-remove-prod")){var v=r.parents(".fk-prod-title[item_id]").attr("item_id");var p=[],p=fk_compare.resultsPage.getItemIds();p=o(v,p);fk_compare.cookie.removeItem(v);fk_compare.resultsPage.goToCompare(p)}else{if(r.hasClass("control-model")&&q.is(":hidden")&&$("UL",q).length>0){var u=$(".models-list");if(u.not(":hidden").length>0){u.not(":hidden").slideUp("fast",function(){if(q.is(":hidden")){q.slideDown("fast")}})}else{if(q.is(":hidden")){q.slideDown("fast",function(){u.scrollToView({edge:20})})}}}}}})};this.bindBrandClick=function(){$(".control-brand").unbind("change").bind("change",function(p){$(".models-list").slideUp("fast","linear");var u=$(p.target),t=u.val(),q=u.attr("vertical"),o=u.attr("searchFilters");var r=u.parents(".fk-qparameters");if(t!="select"&&q!=""&&r.length>0&&t!="0"){r.find(".models-list").attr("load_count","0");fk_compare.resultsPage.getModels(t,{searchVertical:q,searchFilters:o},r)}else{if(t=="select"||t=="0"){r.find(".models-list").html("")}}})};this.bindItemClick=function(){$(".models-list>UL").unbind("click").bind("click",function(t){var v=$(t.target),u="",p="",r="";if(typeof(v.attr("item_id"))!="undefined"&&v.attr("item_id")!=""){r=v}else{r=v.parents("LI[item_id]")}u=r.attr("item_id");p=r.attr("title");var q=v.parents(".models-list");q.prev().text(p.substring(0,Math.min(13,p.length))+(p.length>13?"...":""));q.next().slideDown("fast");var o=[],o=fk_compare.resultsPage.getItemIds();o.push(u);fk_compare.cookie.addItem(u);fk_compare.resultsPage.goToCompare(o)})};this.bindItemScroll=function(){$(".models-list").unbind("scroll").bind("scroll",function(){var r=$(this),v=this.scrollHeight,u=(r.scrollTop()+this.offsetHeight);var p=$(".load-anim",r);var q=300;if(u>=(v-p.height())&&p.not(":hidden")&&v>q&&!fk_compare.resultsPage.isAjaxInProgress){var t=r.parents(".fk-qparameters"),o=t.find(".control-brand");fk_compare.resultsPage.getModels(o.val(),{searchVertical:o.attr("vertical"),searchFilters:o.attr("searchFilters")},t)}})};this.getModels=function(p,u,v){var t=v.find(".models-list");var x=10;var o=parseInt(t.attr("load_count"));var q=$(".load-anim",t);var r=this.getItemIds(),w=false;r=r.join(",");t.slideDown("fast");if(o==0){t.html("").append(q.clone().show()).scrollTop(0)}this.isAjaxInProgress=true;$.ajax({url:"/compareCommand/brandSearch?count="+x+"&start="+o+"&brand="+p+"&vertical="+u.searchVertical+"&filters="+u.searchFilters,dataType:"json",success:function(C){var D=C.products,A=["<ul>"],E=0;for(var G in D){var H=new RegExp(G,"gi");if(r.search(H)<0){var y=D[G];var z=["<li title='"+y.title+"' item_id='"+G+"'><strong>"+y.title+"</strong>"];var F="if(this.getAttribute('onerror_cnt')==0) { this.setAttribute('onerror_cnt',1);this.src='"+y.error_image+"';}return false;";z.push("<div class='snippet'><img src='"+y.thumb+"' onerror=\""+F+"\" onerror_cnt='0'/>");z.push("<ul class='short-details'>");z.push("<li class='sel-price'><span>Rs. "+y.selling_price+"</span></li>");z.push("<li class='stock "+(y.is_available==true?"available":"")+"'><span>"+y.stock+"</span></li>");z.push("</ul></div><div class='fclear'></div></li>");A.push(z.join(""))}else{w=true}E++}A.push("</ul>");if(E==0){q.hide();B()}else{if(E==1&&o==0&&w){t.parents(".control-holder").find(".control-model").text("No models");t.slideUp("fast","linear",function(){q.hide()})}else{q=$(".load-anim",t);q.show().before(A.join(""));if(E<x){q.hide()}t.attr("load_count",E+o);B()}}function B(){window.setTimeout(function(){t.slideDown("fast","linear",function(){t.scrollToView({edge:20})})},500)}fk_compare.resultsPage.bindItemClick();fk_compare.resultsPage.bindItemScroll();fk_compare.resultsPage.isAjaxInProgress=false},error:function(y,z){}})};this.goToCompare=function(p){var r=p.join(",");var o="/"+fk_compare.cookie.getVertical(true).replace(/_/g,"-");var q=o+d+r;window.location.href=q};this.toggleHelpInfo=function(){if($("#compare-need-help .help-text").is(":hidden")){fk_compare.resultsPage.showHelpInfo()}else{fk_compare.resultsPage.hideHelpInfo()}};this.showHelpInfo=function(){$("#compare-need-help .help-text").slideDown("fast",function(){$("#compare-need-help > a").text("Close Help")})};this.hideHelpInfo=function(){$("#compare-need-help .help-text").slideUp("fast",function(){$("#compare-need-help > a").text("Need Help?")})};this.bindHelpInfoClicks=function(){$("#compare-need-help > a").bind("click",this.toggleHelpInfo);$("#compare-need-help .close-help").bind("click",this.toggleHelpInfo)}};this.cookie=new function(){var t={},q="";var w="FK-CMP-DATA";var p="";function x(z){$.cookie(w,null);$.cookie(w,z,{expires:2,path:"/"})}function o(){var A="";for(var z in t){var C=z+":";if(t[z].length>0){for(var B=0;B<t[z].length;B++){if($.trim(t[z][B])!=""){C+=t[z][B]+(B<t[z].length-1?",":";")}else{if(B==t[z].length-1){C+=t[z][B]+";"}}}}else{C+=";"}A+=C}return A}function v(B){var z=B.split(";"),A={};var C=z[0].split(":");if(!A[C[0]]){A[C[0]]=[]}A[C[0]]=C[1].split(",");return A}function y(){for(var z in t){break}return z}function u(z){if(q==""||!q){q=y();if(!q&&typeof z!="undefined"){q=$("#"+z.toUpperCase()).attr("vertical")}if(!q){q=$("#fk-compare-table").attr("vertical")}}}function r(){var z=$.cookie(w);if(z){t=v(z)}else{x("")}}this.getVertical=function(z){var z=typeof z=="undefined"?false:z;if(q==""&&z&&p!=""){return p}return q};this.updateCookie=function(A){var z=this.getVerticalItemsData();this.removeAll();for(var B=0;B<A.length;B++){this.addItem(A[B])}};this.getVerticalItemsData=function(){if(q==""){r()}u();if(typeof(t[q])!="undefined"&&t[q]!=""){return t[q]}else{return[]}};this.addItem=function(z){if(q==""){r()}u(z);if(!t[q]||$.trim(t[q].join(""))==""){t[q]=[]}t[q].push(z.toLowerCase());x(o())};this.removeItem=function(z){u();t[q]=l(z,t[q]);if(!t[q].length){t={};p=q;q=""}x(o())};this.removeAll=function(){t={};p=q;q="";x(o())}}};fk_compare=FKART.Compare;addOnload(function(){window.EXP_CO_LOADER=new FKART.ui.Loader({modal:true,cssCls:"exp-co-loader"})});FKART.expco=new function(){var q=this;var m;var a=false;var b={lock_map:{},lock:function(y){this.lock_map[y]=true},unlock:function(y){this.lock_map[y]=false},status:function(y){return this.lock_map[y]}};var l={},x;function o(){if($("#expco_panelsh").length){window.express_co_dialog=new FKART.ui.Dialog({width:460,body:$("#expco_panelsh"),header:"Order Confirmation",showFooter:false,cssClass:"express-co-dialog"});express_co_dialog.bindEvent("afterHide",w)}m=FKART.secureDomain+"/co_ajax/exp_co";x=new FKART.XDR();$("#go-to-library-btn").live("click",function(){window.location.href=FKART.secureDomain+"/account/mp3library"});$("#go-to-ebook-library-btn").live("click",function(){window.location.href=FKART.secureDomain+"/account/ebookslibrary"})}$(document).ready(o);function e(B){EXP_CO_LOADER.hide();var G={Digital:{dispName:"MP3",link:"mp3",startmsg:"Download from "},digital_ebook:{dispName:"eBooks",link:"ebooks",startmsg:"Go to "}},A,E;G.digital_track=G.digital_album;$(document).trigger("expco-success",[l.eid]);if(typeof B.data.updated_wallet_balance!="undefined"){$("#wallet_balance").text(B.data.updated_wallet_balance)}if(typeof B.data.digital_cart_count!="undefined"){$(".digital-cart-count").text(B.data.digital_cart_count)}if(typeof B.data.google_order_info!="undefined"&&typeof B.data.google_order_info.order_editions_info!="undefined"){A=G[B.data.google_order_info.order_editions_info[0].vertical];E='<a href="/account/'+A.link+'library" class="fk-button blue">'+A.startmsg+A.dispName+" Library</a>"}else{E=""}var C=$(".edition_"+l.eid);var y=$(C[0]).attr("data-item-name");FKART.digital.notify({text:'<span class="tick_icon"></span> "<div class="fk-inline-block tmargin5"><span class="item_name">'+y+'</span>" has been successfully purchased and added to your Library. &nbsp;'+E+"</div>"});var J='<div class="exp_co_item_added sml_msg"><span class="tick_icon"></span> Bought</div>';var z;if(typeof A!="undefined"){z='<div class="exp_co_item_added"><span class="tick_icon"></span> Successfully purchased and added to your <a href="/account/'+A.link+'library">'+A.dispName+' Library</a> <div class="tmargin5">'+E+"</div></div>"}else{z='<div class="exp_co_item_added"><span class="tick_icon"></span> Successfully purchased and added to your Library</div>'}for(var K=0;K<C.length;K++){var D=$(C[K]);if(D.parents(".track-list.prod_page").length){D.find("td.buy-options-col").remove();var H=D.find("td.price");H.attr("colspan",2).addClass("item-added").removeClass("price").html(J)}else{if(D.parents(".track-list").length){D.find("td.buy-options-col").remove();D.find("td.price").remove();var H=D.find("td.bitrate");H.attr("colspan",3).addClass("item-added").removeClass("price").html('<div class="exp_co_item_added"><span class="tick_icon"></span> Bought<br/>'+E+"</div>")}else{var I=$("<div>");if(D.hasClass("long_msg")){I.html(z)}else{D.removeClass("buy-options");I.html(J)}D.html(I)}}}try{n(B.html)}catch(F){}try{FKART.omnitureFireEvent({"track-vars":"events,products,eVar25","track-events":"purchase,event16",products:";"+l.eid+";"+1+";"+B.data.order_amount+";;event63="+B.data.order_amount+";eVar22=DigitalMP3",eVar25:B.data.order_id,events:"purchase,event16",name:"express checkout purchase"})}catch(F){}}this.reset=function(){l={}};this.get_exp_co_popup=function(y,B,z){if(b.status("exp_co_popup")){return}l.eid=y;l.form_key=B;l.force_confirm=typeof z=="undefined"?false:z;var A={product_id:y,form_key:B,force_confirm:l.force_confirm};if(l.next_state){A.request=l.next_state}EXP_CO_LOADER.show();x.makeRequest(m,{type:"post",data:A},t)};function t(y){switch(y.status){case"song_already_bought":EXP_CO_LOADER.hide();new FKART.Alert({body:y.data.message,destroy_on_close:true,width:500,buttons:{"go-to-library-btn":"Go to MP3 Library"}});break;case"product_already_bought":EXP_CO_LOADER.hide();new FKART.Alert({body:y.data.message,destroy_on_close:true,width:500,buttons:{"go-to-library-btn":"Go to MP3 Library"}});break;case"ebook_already_bought":EXP_CO_LOADER.hide();new FKART.Alert({body:y.data.message,destroy_on_close:true,width:500,buttons:{"go-to-ebook-library-btn":"Go to eBooks Library"}});break;case"invalid_product_id":case"customer_not_from_india":case"exception_occurred":p(y.data.message);break;case"set_billing_address":express_co_dialog.updateHeader("Set your Default Billing Address");if(y.data.error){$("#co_enter_addr_err").html(y.data.error);EXP_CO_LOADER.hide();express_co_dialog.show()}else{require_module.css("others");g(y.html);d();if(y.data.addresses_count>0){express_co_dialog.setWidth("830px");express_co_dialog.setHeight("550px")}}break;case"user_preference":express_co_dialog.updateHeader("Wallet Order Confirmation");g(y.html);u();break;case"wallet_topup_required":express_co_dialog.updateHeader("Top-up your Wallet");g(y.html);FKART.utils.runOnload();FKART.omnitureFireEvent({"track-events":"event11",events:"event11",name:"wallet pop-up"});break;case"login_required":case"check_wallet_auth":if(typeof y.data.next_state!="undefined"){l.next_state=y.data.next_state}EXP_CO_LOADER.hide();FKART.login.showPopup("",false);$(document).unbind("user_loggedin",c).one("user_loggedin",c);FKART.omnitureFireEvent({"track-events":"event12",events:"event12",name:"login popup"});break;case"success":e(y);break;default:p("Server error occured, please try again later.")}}function g(z){EXP_CO_LOADER.hide();var y=document.getElementById("expco_panelsh");y.innerHTML=z;a=true;express_co_dialog.show()}function p(y){EXP_CO_LOADER.hide();new FKART.Alert({body:y,destroy_on_close:true,width:500})}var u=function(){$("#expco-form").bind("submit",function(y){express_co_dialog.hide();EXP_CO_LOADER.show("Processing..");var z=$(this).serializeObject();z.form_key=l.form_key;x.makeRequest(m,{type:"post",data:z},t);return false})};var d=function(){$("#select_address_form").bind("submit",function(y){if(!f()){return false}express_co_dialog.hide();EXP_CO_LOADER.show("Processing...");var z=l.addressObj||{};z.product_id=l.eid;z.request="set_billing_address";z.form_key=l.form_key;z.force_confirm=l.force_confirm;x.makeRequest(m,{type:"post",data:z},t);return false})};function w(){express_co_dialog.setWidth("460px");express_co_dialog.setHeight("auto");EXP_CO_LOADER.hide();if(b.status("exp_co_popup")){b.unlock("exp_co_popup")}if(express_co_dialog.isOpen()){express_co_dialog.hide()}a=false}this.validateWalletForm=function(y,C,z,A){var B=$("#walamt2").val();if(B.indexOf(".")>0||isNaN(B)){$("#walerror2").text("Please enter a valid amount");$("#walerror2").addClass("inp-err").show();$("#walamt2").val("");$("#walamt2").focus();return false}B=parseInt(strip(B));if(B==""||isNaN(B)||B<y||B>C){if(B==""){$("#walerror2").text("Please enter amount")}else{if(isNaN(B)){$("#walerror2").text("Please enter a valid amount")}else{if(B<y||B>C){$("#walerror2").text("The top-up amount should be between Rs."+y+" and Rs."+C)}}}$("#walerror2").addClass("inp-err").show();$("#walamt2").val("");$("#walamt2").focus();return false}else{$("#walerror2").hide();$("#act_walamt2,#walamt2").val(B);if(B>=z&&!A){r();return false}else{return true}}return false};function r(){var B="These Top-Ups can only be used for the Flyte Category (MP3 and eBooks). Are you sure you want to continue?";var y="<span class='topup-confirm'>Yes</span>";var A="<span class='topup-cancel'>No</span>";var z=new FKART.ui.Alert({body:B,buttons:{yes:y,no:A},width:400});$(".topup-confirm").click(function(){$("#walletform2").unbind("submit");$("#walletform2").submit()});$(".topup-cancel").click(function(){z.close()})}function c(){FKART.login.hidePopup();$("#login-loader").hide();q.get_exp_co_popup(l.eid,l.form_key)}var f=function(){function G(M){return document.getElementById("co_createaddr_"+M)}function L(M){G(M).className=G(M).className.replace(/ co_err_inp/g," ");G(M).value=strip(G(M).value);return G(M).value}function H(M){G(M).className+=" co_err_inp"}if($("#co_addr_address_id").val()!=""){return true}var E=L("name");var F=L("phone");var C=L("addr1");var B=L("addr2");var D=L("landmark");var K=L("city");var A=L("state");var J=L("pincode");var I=/^[A-Za-z]+[\ +[A-Za-z]+]*$/;var z=[];function y(M){z[z.length]="<li>"+M+"</li>"}if(E==""){y("Please specify a Name");H("name")}if(C==""){y("Please specify a Street Address");H("addr1")}if(C.length>216){y("Address cannot be more than 216 characters");H("addr1")}if(D.length>60){y("Landmark cannot be more than 60 characters");H("landmark")}if(K==""){y("Please specify a City");H("city")}else{if(!I.test(unescape(K))){y("Please specify a valid City");H("city")}}if(A==0){y("Please specify a State");H("state")}if(J==""||!isValidNumber(J)){y("Please enter a 6 digit Pincode");H("pincode")}else{if(J.length!=6){y("Pincode should contain 6 digits");H("pincode")}}if(F==""){y("Please specify a Phone Number");H("phone")}if(z.length>0){document.getElementById("co_enter_addr_err").innerHTML="<b>Oops! Correct the following:</b><ul>"+z.join("")+"</ul>";return false}l.addressObj={addr_name:E,addr_ph:F,addr_l1:C,addr_l2:D,addr_city:K,addr_st:A,addr_pin:J};return true};this.selectAddress=function(y){var z=$(y).attr("data-address-id");$("#co_addr_address_id").val(z);l.addressObj={address_id:z};$("#select_address_form").submit()};var v=document.write;function n(z){var y=$(z);document.write=function(A){$($dc("hidden")).appendTo(document.body).append(A)};y.appendTo(document.body);setTimeout(function(){y.remove();document.write=v},8000)}};function get_exp_co_popup(a,c,b){FKART.expco.reset();FKART.expco.get_exp_co_popup(a,c,b);FKART.omnitureFireEvent({"track-vars":"events,eVar18,products","track-events":"event10",products:";"+a+";;;;eVar22=DigitalMP3","set-evar18":true,events:"event10",name:"express checkout"})}FKART.recommendations={};FKART.recommendations.carousel={};FKART.recommendations.carousel.init=function(b){var a=new FKART.ui.CarouselLoader(b);a.initCarousel()};FKART.recommendations.carousel.load=function(b){var a=new FKART.ui.CarouselLoader(b);a.initAjaxCall()};FKART.newnavmenu=function(c,e){var a="";var g=$("<div></div>");g.addClass("fk-mask").appendTo("body");function l(){$("#fk-mainhead-id").addClass("maskOn");g.height($(document).height());g.addClass("open")}function f(){g.removeClass("open");setTimeout(function(){g.height(0)},300);$("#fk-mainhead-id").removeClass("maskOn")}if(c==0){$(".nav-content").hide();function d(){$(".nav-content").show();$("#flyout-menu .all-ctg-btn").addClass("open").addClass("btnactive");l()}function b(){$(".nav-content").hide();$("#flyout-menu .all-ctg-btn").removeClass("open").removeClass("btnactive");f()}$("#flyout-menu .all-ctg-btn").delayedHover(d,b,400);$("#flyout-menu .arrow-dd").mouseover(d);$("#flyout-menu .nav-content").mouseleave(b)}else{$("#flyout-menu .all-ctg-link").css({cursor:"default"});$(".nav-content").hover(l,f)}g.bind("mouseover",function(){});$(".nav-list").menuAim({activate:function(C){var A=$(window).height();var t=$(C).offset();var m=t.top;e=parseInt(e);if($(document).scrollTop()<e){A=A-e;m=m-e}else{m=m-$(document).scrollTop()}var n=$(C).children(".subMenu");var w=n.height();var u="-584px";var o=1;if((m+w)>A){o=((m+w)-A)+30}if(o>m){o=m}if(o==0){o=1}u="-"+(584-m)+"px";var z=n.find(".fk-mh-submenu-dsection.right .fk-mh-navChild-Wrapper");var q=n.find(".fk-mh-submenu-dsection.left .fk-mh-navChild-Wrapper");var y=n.find(".fk-mh-submenu-dsection.featured .fk-mh-navChild-Wrapper");n.css({display:"block",visibility:"hidden"});var B=q.height();var p=z.height();var r=y.height();n.css({display:"none",visibility:"visible"});var x=Math.max(B,p,r);z.css("height",x);q.css("height",x);y.css("height",x);var v=$(C);a=setTimeout(function(){v.addClass("hover");n.css({display:"block",left:"223px",_left:"220px",top:"-"+m+"px","z-index":"9999","background-position":"left "+u})},40)},deactivate:function(n){try{clearTimeout(a)}catch(m){}setTimeout(function(){$(n).removeClass("hover");$(n).children(".subMenu").hide()},50)}})};FKART.navmenu=function(b,c){var a="";if(b==0){$(".mainDiv").hide();$(".fk-mh-navmenu-ddownlink").css({"background-color":"#3bb0d7",border:"1px solid #3bb0d7"});$("#fk-mh-flyoutAnchor").mouseover(function(){$(this).css("cursor","pointer");$(".mainDiv").show();$(".fk-mh-navmenu-ddownlink").css({"background-color":"#FFFEF5",border:"1px solid #D6C782",padding:"0"});$(".fk-mh-navmenu-btn").addClass("btnactive")});$("#mainmenu").mouseleave(function(){$(".mainDiv").hide();$(".fk-mh-navmenu-ddownlink").css({"background-color":"#3bb0d7",border:"1px solid #3bb0d7"});$(".fk-mh-navmenu-btn").removeClass("btnactive");$(".fk-mh-navmenu-btn").addClass("initial")});$("#fk-mh-flyoutBtn").mouseover(function(){$(".fk-mh-navmenu-btn").addClass("btnhover")});$("#fk-mh-flyoutBtn").mouseleave(function(){$(".fk-mh-navmenu-btn").removeClass("btnhover")});$("#fk-mh-flyoutBtn").click(function(){$(this).css("cursor","pointer");$(".mainDiv").show();$(".fk-mh-navmenu-ddownlink").css({"background-color":"#FFFEF5",border:"1px solid #D6C782",padding:"0"});$(".fk-mh-navmenu-btn").addClass("btnactive")})}else{$(".fk-mh-navmenu-btn").css({cursor:"default"});$("#fk-mh-flyoutAnchor").css({cursor:"default"});$("#fk-mh-flyoutBtn").css({cursor:"default"})}$(".menuLink").hover(function(){var e=$(window).height();var n=$(this).offset();var m=n.top;c=parseInt(c);if($(document).scrollTop()<c){e=e-c;m=m-c}else{m=m-$(document).scrollTop()}var l=$(this).children(".subMenu");var f=l.height();var d="-580px";var g=1;if((m+f)>e){g=((m+f)-e)+30}if(g>m){g=m}if(g==0){g=1}if(m>g){d="-"+(580-g)+"px"}else{d="-"+(580-m)+"px"}var o=$(this);a=setTimeout(function(){o.addClass("hover");l.css({display:"block",left:"189px",_left:"210px",top:"-"+g+"px","z-index":"9999","background-position":"left "+d})},100)},function(){try{clearTimeout(a)}catch(d){}$(this).removeClass("hover");$(this).children(".subMenu").hide()})};FKART.EGV=function(){var d=1;var l=5;var c=/^[\d]+$/;var e=function(){var o=$("#egift-voucher-list li:last");var m=o.clone();m=m.html().replace(/(for|id)=\"?([\w\-\_]+)([\d]+)\"?/g,function(r,p,t,q){return p+"="+t+(Number(q)+1)});var n=$("<li>"+m+"<a class='deleteItem' alt='Delete Voucher' title='Delete Voucher'>&nbsp;</a></li>");n.addClass("divider").appendTo("#egift-voucher-list").find(".fk-err-all").hide().html("").end().find(".egv-msg-popup").hide().end().slideDown("fast");b(n);n.find("[id^=voucher-value]").val("500");n.find("[id^=quantity]").val("1");n.find("[id^=egv-subtotal]").text("500");n.find("[id^=add-msg-checkbox]").prop("checked",false);n.find("[id^=chr-left]").html("")};var b=function(m){$("input[placeholder],textarea[placeholder]",m).removeClass("placeholder-added placeholder").val("")};var f=function(p){var u=false;var y="";$(".fk-err-all","#egift-voucher-form").hide().html("");while(p>0){var x=$("[id^=recipient-email]","#egift-voucher-list li:nth-child("+p+")");var r=$("[id^=confirm-recipient-email]","#egift-voucher-list li:nth-child("+p+")");var w=$("[id^=voucher-value]","#egift-voucher-list li:nth-child("+p+")");var m=$("[id^=quantity]","#egift-voucher-list li:nth-child("+p+")");var t=$("[id^=add-msg-checkbox]","#egift-voucher-list li:nth-child("+p+")").prop("checked");var v=$("[id^=sender-name]","#egift-voucher-list li:nth-child("+p+")");var q=$("[id^=recipient-name]","#egift-voucher-list li:nth-child("+p+")");var n=$("[id^=egv-message]","#egift-voucher-list li:nth-child("+p+")");var o=Number(n.attr("maxlength"));if($.trim(x.val())==""||!(isEmailValid(x.val(),true))){u=true;y="<p>* Please enter a valid recipient's email</p>"}if(x.val().toLowerCase()!=r.val().toLowerCase()){u=true;y+="<p>* Please confirm the recipient's email</p>"}if(!(c.test(w.val()))||w.val()<25||w.val()>10000){u=true;y+="<p>* Please enter a Voucher value between Rs. 25 and Rs. 10000</p>"}if(!(c.test(m.val()))||m.val()<1){u=true;y+="<p>* Please enter a valid Voucher quantity</p>"}if(t){if($.trim(q.val())==""){u=true;y+="<p>* Please enter the recipient's name</p>"}if($.trim(v.val())==""){u=true;y+="<p>* Please enter the sender's name</p>"}if($.trim(n.val())!=""&&n.val().length>o){u=true;y+="<p>* Gift message should not exceed more than"+o+" characters</p>"}}if(y!=""){$("[id^=err-container]","#egift-voucher-list li:nth-child("+p+")").show().append(y)}y="";p--}return !u};var a=function(){var m=0;$("[id^=egv-subtotal]","#egift-voucher-list").each(function(){m+=Number($(this).text())});$("#egv-total").text(m)};var g=function(){$("#egift-voucher-list li:nth-child(even)").addClass("even");$("#egift-voucher-list li:nth-child(odd)").removeClass("even")};return{init:function(){var m=$("#egv-add-voucher","#egv-content");m.click(function(){if(d<l){d++;e();g();a();FKART.ui.Placeholder.init()}if(d==l&&!$(this).hasClass("add-disabled")){$(this).addClass("add-disabled").text("You have reached the maximum limit of 5 vouchers.")}});$(".deleteItem","#egv-content").live("click",function(){var n=$(this).parents("li");n.fadeOut().remove();a();g();d--;if(d==Number(l-1)){m.removeClass("add-disabled").html("[+] &nbsp;Add another e-Gift Voucher")}});$("#egift-voucher-form","#egv-content").submit(function(){var n=$("#egift-voucher-list li").length;if(f(n)){$("#egv-count").val(n);return true}else{return false}});$(".egv-value, .egv-quantity","#egv-content").live("keyup",function(){var o=$(this).parents("li").find(".egv-value").val();var p=$(this).parents("li").find(".egv-quantity").val();var n=(c.test(o)&&c.test(p)&&p>0&&o>=25&&o<=10000)?(o*p):0;$(this).parents("li").find("[id^=egv-subtotal]").html(n);a()});$(".js-add-gift-msg","#egift-voucher-list").live("click",function(){var o=$(this).parents("li");o.find(".egv-msg-popup").toggle($(this).prop("checked"));if($(this).prop("checked")){o.find("[id^=chr-left]").html("");var n=o.prev("li").find("[id^=sender-name]");if(n.length>0&&$(n).defaultVal()!=""){o.find("[id^=sender-name]").val(n.val()).removeClass("placeholder")}}else{b(o.find(".egv-msg-popup"));FKART.ui.Placeholder.init()}}).each(function(){if($(this).prop("checked")){$(this).parents("li").find(".egv-msg-popup").show()}})}}}();if(typeof(FKART)=="undefined"){FKART={}}FKART.omni=new function(){var c={};var b;function a(){b=s_gi(s_account)}this.customEvent=function(f,d){try{a();var m=[];for(var g in d){m.push(g);b[g]=d[g]}b.linkTrackVars=m.join(",");if(typeof d.events!="undefined"){b.linkTrackEvents=d.events.replace(/=(.[^,;]*)/g,"")}else{b.linkTrackEvents=""}b.tl(b,"o",f)}catch(l){}};this.getProperty=function(d){return c[d]};this.setProperty=function(d,e){c[d]=e}};FKART.Notifications=function(){var b;var e=function(){var g=new FKART.ui.Tooltip({nearElement:$("#notifications-count-button"),cssClass:"notification-popup",align:"right",message:"<div class='notification-popup-header'>Notifications</div><div class='tpadding5 bpadding5' style='text-align:center;'><img src='/images/ajax-loader.gif'/></div>"});b=g};var f=function(){b.show()};var d=function(){b.hide()};var c=function(){if($(".notification-popup").is(":visible")){b.hide()}else{b.show();if(parseInt($("#notifications-count-button").text())>0){$.getJSON("/xhr/markNotificationsAsRead",function(g){g.success&&$("#notifications-count-button").text("0").removeClass("notifications-count").addClass("notifications-count-dull")})}FKART.omni.customEvent("Notifications",{eVar53:"Notifications_link"})}};var a=function(){$.getJSON("/xhr/getNotifications",function(g){if(g.count==null){g.count=0}if(g.count>0){$("#notifications-count-button").removeClass("notifications-count-dull").addClass("notifications-count").text(g.count)}else{$("#notifications-count-button").removeClass("notifications-count").addClass("notifications-count-dull").text(g.count)}g.html&&b.updateContent(g.html)})};return{init:e,showPopup:f,hidePopup:d,getNotifications:a,toggleNotifications:c}};FKART.notificationsAddOnload=function(){var a=new FKART.Notifications();a.init();a.getNotifications();$("#notifications-count-button, #notifications-link").click(function(){a.toggleNotifications();return false});$(document).click(function(b){if(!$(b.target).is(".notification-popup *")){a.hidePopup()}});$(document).keyup(function(b){if(b.keyCode==27){a.hidePopup()}})};